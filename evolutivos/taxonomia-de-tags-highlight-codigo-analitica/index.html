<!doctype html><html ‚ö° lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><title>#2 Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica</title><meta name=description content="Seguimos adelante, esta vez avanzamos un poco m√°s con el interlinking creando una taxonom√≠as de tags, adem√°s de server-side code highlighting y montamos todo lo necesario para recaudar los datos y analizarlos con Cloudflare, Google Analytics y Search Console."><link rel=canonical href=https://asur.dev/evolutivos/taxonomia-de-tags-highlight-codigo-analitica/><link rel=preload as=script href=https://cdn.ampproject.org/v0.js><link rel="preconnect dns-prefetch" href=https://cdn.ampproject.org crossorigin><link rel="preconnect dns-prefetch" href=https://www.googletagmanager.com crossorigin><link rel="preconnect dns-prefetch" href=https://cdn.ampproject.org crossorigin><meta property=og:title content="#2 Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica"><meta property=og:url content=https://asur.dev/evolutivos/taxonomia-de-tags-highlight-codigo-analitica/><meta property=og:description content="Seguimos adelante, esta vez avanzamos un poco m√°s con el interlinking creando una taxonom√≠as de tags, adem√°s de server-side code highlighting y montamos todo lo necesario para recaudar los datos y analizarlos con Cloudflare, Google Analytics y Search Console."><meta property=og:image content=https://asurbernardo.com/images/taxonomia-de-tags-highlight-codigo-analitica-share.png><meta property=og:type content=article><meta property=og:site_name content><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="#2 Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica"><meta name=twitter:url content=https://asur.dev/evolutivos/taxonomia-de-tags-highlight-codigo-analitica/><meta name=twitter:description content="Seguimos adelante, esta vez avanzamos un poco m√°s con el interlinking creando una taxonom√≠as de tags, adem√°s de server-side code highlighting y montamos todo lo necesario para recaudar los datos y analizarlos con Cloudflare, Google Analytics y Search Console."><meta name=twitter:image content=https://asurbernardo.com/images/taxonomia-de-tags-highlight-codigo-analitica-share.png><meta name=twitter:site content><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed;line-height:1.5}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}article>*{margin-top:1em}article h1{margin-top:.25em}.chroma{background-color:#fff}.chroma .err{color:#a61717;background-color:#e3d2d2}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#000;font-weight:700}.chroma .kc{color:#000;font-weight:700}.chroma .kd{color:#000;font-weight:700}.chroma .kn{color:#000;font-weight:700}.chroma .kp{color:#000;font-weight:700}.chroma .kr{color:#000;font-weight:700}.chroma .kt{color:#458;font-weight:700}.chroma .na{color:teal}.chroma .nb{color:#0086b3}.chroma .bp{color:#999}.chroma .nc{color:#458;font-weight:700}.chroma .no{color:teal}.chroma .nd{color:#3c5d5d;font-weight:700}.chroma .ni{color:purple}.chroma .ne{color:#900;font-weight:700}.chroma .nf{color:#900;font-weight:700}.chroma .nl{color:#900;font-weight:700}.chroma .nn{color:#555}.chroma .nt{color:navy}.chroma .nv{color:teal}.chroma .vc{color:teal}.chroma .vg{color:teal}.chroma .vi{color:teal}.chroma .s{color:#d14}.chroma .sa{color:#d14}.chroma .sb{color:#d14}.chroma .sc{color:#d14}.chroma .dl{color:#d14}.chroma .sd{color:#d14}.chroma .s2{color:#d14}.chroma .se{color:#d14}.chroma .sh{color:#d14}.chroma .si{color:#d14}.chroma .sx{color:#d14}.chroma .sr{color:#009926}.chroma .s1{color:#d14}.chroma .ss{color:#990073}.chroma .m{color:#099}.chroma .mb{color:#099}.chroma .mf{color:#099}.chroma .mh{color:#099}.chroma .mi{color:#099}.chroma .il{color:#099}.chroma .mo{color:#099}.chroma .o{color:#000;font-weight:700}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#998;font-style:italic}.chroma .ch{color:#998;font-style:italic}.chroma .cm{color:#998;font-style:italic}.chroma .c1{color:#998;font-style:italic}.chroma .cs{color:#999;font-weight:700;font-style:italic}.chroma .cp{color:#999;font-weight:700;font-style:italic}.chroma .cpf{color:#999;font-weight:700;font-style:italic}.chroma .gd{color:#000;background-color:#fdd}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#a00}.chroma .gh{color:#999}.chroma .gi{color:#000;background-color:#dfd}.chroma .go{color:#888}.chroma .gp{color:#555}.chroma .gs{font-weight:700}.chroma .gu{color:#aaa}.chroma .gt{color:#a00}.chroma .gl{text-decoration:underline}.chroma .w{color:#bbb}body{display:grid;grid-template-columns:repeat(12,1fr);grid-gap:1em 1em;font-size:14pt;font-family:Courier New;color:#333}header{grid-column:3/span 8}header .header__logo{width:100%;margin:1em 0 0}header .header__logo svg{width:100%;height:auto}header .header__logo a{border-bottom:none;box-shadow:none}header .header__logo a:hover{background:initial}main{grid-column:3/span 8}h1,h2,h3,h4{font-family:Helvetica}h1{font-size:5rem}h2{font-size:2rem}h3{font-size:1.5rem}h4{font-size:1.25rem}a{color:inherit;text-decoration:none;border-bottom:2px solid #ef8b80;box-shadow:inset 0 -4px 0 #ef8b80;transition:background .2s}a:hover{background:#ef8b80}li{margin-top:.25em}pre,code{font-family:lucida console,Monaco,monospace;font-size:12pt;background-color:#f1f1f1}blockquote{margin:inherit auto;margin-left:1em;padding:1em;border-left:5px solid #999}blockquote:before{display:none}blockquote:not(:first-of-type){margin-top:.5em}blockquote p{color:#555;font-size:16pt;font-family:times new roman,serif}.under-title{display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:0}.under-title .under-title__left,.under-title .under-title__right{align-self:center;margin-top:1em}#tags{margin:0;padding:0}#tags li{display:inline}.social-share amp-social-share{margin:0 .5em;border-radius:50%;background-size:60%}article>pre{overflow:auto;padding:1em}article>p>code{padding:.1em}article>.highlight{overflow:auto}article>.highlight .chroma{background-color:#f1f1f1}.post__image{max-width:1000px}table{overflow:auto;border-collapse:collapse;width:100%}table td,table th{border:1px solid #ddd;padding:8px}table tr:nth-child(even){background-color:#f1f1f1}table tr:hover{background-color:#ddd}table th{padding:1em .5em;background-color:#ef8b80;color:#fff}@media(max-width:1200px){body{grid-gap:0}main,header{grid-column:1/span 12;margin:.5em .75em 0 .5em}h1{font-size:2.25rem}h2{font-size:1.75rem}h3{font-size:1.5rem}h4{font-size:1.25rem}}</style><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-social-share src=https://cdn.ampproject.org/v0/amp-social-share-0.1.js></script></head><body><amp-analytics type=gtag data-credentials=include><script type=application/json>{"vars":{"gtag_id":"UA-128498798-1","config":{"UA-128498798-1":{"groups":"default"}}},"triggers":{"trackPageview":{"on":"visible","request":"pageview"}}}</script></amp-analytics><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","image":"http://example.com/images/image.jpg","url":"http://example.com/blog/post","headline":"#2 Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica","alternativeHeadline":"#2 Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica","dateCreated":"2019-10-26T11:27:32","datePublished":"2019-10-26T11:27:32","dateModified":"2019-10-26T11:27:32","inLanguage":"es","isFamilyFriendly":"true","copyrightYear":"2019","copyrightHolder":"Asur","accountablePerson":{"@type":"Person","name":"Asur","url":""},"author":{"@type":"Person","name":"Asur","url":""},"creator":{"@type":"Person","name":"Asur","url":""},"publisher":{"@type":"Organization","name":"Asur Bernardo","url":"https:\/\/asur.dev","logo":{"@type":"ImageObject","url":"\/logo-amp-article.png","width":"600","height":"60"}},"mainEntityOfPage":"https:\/\/asur.dev\/evolutivos\/taxonomia-de-tags-highlight-codigo-analitica\/","keywords":"[\"blog\",\"desarrollo\",\"tags\",\"syntax highlighting\",\"google analytics\",\"syntax highlighting\",\"search console\"]","genre":"[\"Evolutivo\"]","articleSection":"Los evolutivos de mi blog | By Asur üßê"}</script><header><div class=header__logo><a href=/><svg width="204.36mm" height="21.13mm" viewBox="0 0 204.36 21.13"><g transform="translate(-2.2269 -.73219)"><g fill="#333" stroke-width=".26458" aria-label="&lt;asurbernardo/&gt;"><path d="m11.131 5.7223-8.9038 5.4998v1.9915l8.7996 5.4998 1.0421-1.4242-8.1744-5.0598 8.1744-5.0135z"/><path d="m25.137 16.814v-5.8471c0-2.4083-1.5284-3.9367-4.5619-3.9367-1.181.0-2.5009.20841-3.983.76418l.50945 1.4705c1.2621-.43998 2.362-.62524 3.1725-.62524 1.8178.0 2.9062.65997 2.9062 2.4199v1.0189h-1.7947c-3.7051.0-5.7198 1.3894-5.7198 3.9019.0 2.2694 1.4936 3.763 3.9367 3.763 1.5747.0 2.9525-.57892 3.8209-1.7136.34735 1.0884 1.181 1.5747 2.2346 1.7136l.47472-1.3663c-.68313-.20841-.99575-.57892-.99575-1.5631zm-5.0366 1.4473c-1.5862.0-2.3504-.78734-2.3504-2.3041.0-1.5631.98417-2.5588 3.6704-2.5588h1.7599v3.1378c-.72944 1.0884-1.8757 1.7252-3.0799 1.7252z"/><path d="m34.443 18.134c-1.4357.0-2.7094-.52103-3.6588-1.3199l-1.1115 1.2852c1.0421.90312 2.5704 1.6441 4.7703 1.6441 2.6052.0 5.1408-1.0305 5.1408-3.6356.0-2.281-1.5747-3.1146-3.9598-3.763-2.4662-.67155-3.242-1.0536-3.242-2.142.0-.93786.71786-1.5978 2.6399-1.5978 1.5747.0 2.6283.46314 3.543 1.0884l.85681-1.3199c-1.0189-.7526-2.4662-1.3431-4.423-1.3431-2.7557.0-4.6314 1.2736-4.6314 3.323.0 2.1189 1.621 2.883 4.1567 3.5083 2.582.64839 2.9525 1.2389 2.9525 2.3388.0 1.181-1.1578 1.9336-3.0336 1.9336z"/><path d="m46.134 7.2854h-1.9452v8.8691c0 2.2578 1.1578 3.5893 3.5199 3.5893 1.4242.0 2.9409-.67155 3.9019-1.9104l.1621 1.6441h1.6557v-12.192h-1.9452v8.9733c-.65997 1.0421-1.9683 1.9336-3.2999 1.9336-1.4126.0-2.0494-.67155-2.0494-2.2694z"/><path d="m66.312 7.0191c-2.2115.0-3.4388 1.1463-4.3767 3.1493l-.35893-2.883h-3.3809V8.779h1.8989v9.2049h-1.8989v1.4936h6.3218v-1.4936h-2.4778v-5.164c.81049-2.6862 2.1304-4.0061 4.0177-4.0061h.10421v2.5936h1.5978l.27788-4.1219c-.55577-.1621-1.0421-.2663-1.7252-.2663z"/><path d="m73.915 8.8717v-6.7387l-1.9452.24315v17.101h1.702l.13894-1.2621c.82207 1.0421 1.9104 1.5284 3.323 1.5284 3.1493.0 4.8282-2.6746 4.8282-6.3682.0-3.8209-1.3084-6.345-4.5735-6.345-1.401.0-2.582.67155-3.4735 1.841zm2.7557 9.2975c-1.1115.0-2.1189-.60208-2.7557-1.5747v-6.044c.65997-.98417 1.6905-1.9568 3.0567-1.9568 1.8757.0 2.8715 1.5862 2.8715 4.7703.0 3.2535-1.1347 4.8051-3.1725 4.8051z"/><path d="m87.389 14.07h8.1976c.02316-.2663.04631-.64839.04631-1.0652.0-3.7051-1.8757-5.9745-4.9556-5.9745-3.242.0-5.3261 2.6746-5.3261 6.3682.0 3.7862 2.0147 6.345 5.5808 6.345 1.5168.0 3.0567-.54419 4.1914-1.4357l-.9147-1.2852c-1.0768.72944-2.0147 1.1-3.2535 1.1-1.8873.0-3.462-1.2273-3.5662-4.0525zm3.3114-5.4419c1.8294.0 3.0104 1.3315 3.0567 3.9367h-6.3566c.1621-2.6862 1.482-3.9367 3.2999-3.9367z"/><path d="m107.98 7.0191c-2.2115.0-3.4388 1.1463-4.3767 3.1493l-.35893-2.883h-3.3809V8.779h1.8989v9.2049h-1.8989v1.4936h6.3218v-1.4936h-2.4778v-5.164c.81049-2.6862 2.1304-4.0061 4.0177-4.0061h.10421v2.5936h1.5978l.27788-4.1219c-.55576-.1621-1.0421-.2663-1.7252-.2663z"/><path d="m113.64 19.478h1.9452v-8.8807c.63681-.94943 1.8526-2.0378 3.2883-2.0378 1.841.0 2.0841 1.0073 2.0841 3.4967v7.4218h1.9452v-8.8575c0-2.2462-1.0305-3.5893-3.4272-3.5893-1.4126.0-3.0336.69471-4.0293 1.9452l-.15052-1.6905h-1.6557z"/><path d="m136.26 16.814v-5.8471c0-2.4083-1.5284-3.9367-4.5619-3.9367-1.181.0-2.501.20841-3.983.76418l.50945 1.4705c1.262-.43998 2.362-.62524 3.1725-.62524 1.8178.0 2.9062.65997 2.9062 2.4199v1.0189h-1.7947c-3.7051.0-5.7198 1.3894-5.7198 3.9019.0 2.2694 1.4936 3.763 3.9367 3.763 1.5747.0 2.9525-.57892 3.8209-1.7136.34735 1.0884 1.181 1.5747 2.2346 1.7136l.47472-1.3663c-.68313-.20841-.99575-.57892-.99575-1.5631zm-5.0366 1.4473c-1.5862.0-2.3504-.78734-2.3504-2.3041.0-1.5631.98417-2.5588 3.6704-2.5588h1.7599v3.1378c-.72944 1.0884-1.8757 1.7252-3.0799 1.7252z"/><path d="m149.66 7.0191c-2.2115.0-3.4388 1.1463-4.3767 3.1493l-.35893-2.883h-3.3809V8.779h1.8989v9.2049h-1.8989v1.4936h6.3218v-1.4936h-2.4778v-5.164c.81049-2.6862 2.1304-4.0061 4.0177-4.0061h.10421v2.5936h1.5978l.27788-4.1219c-.55577-.1621-1.0421-.2663-1.7252-.2663z"/><path d="m162.61 2.133v6.3334c-.8105-.94943-1.8641-1.4357-3.2651-1.4357-3.0104.0-4.7819 2.6978-4.7819 6.3682.0 3.7746 1.4589 6.345 4.643 6.345 1.3431.0 2.5473-.57892 3.462-1.8757l.18525 1.6094h1.702v-17.101zm-2.7557 6.4608c1.1231.0 2.0957.57892 2.7557 1.5631v6.0903c-.65998.99575-1.621 1.922-2.9988 1.922-1.9104.0-2.9294-1.6094-2.9294-4.7703.0-3.2188 1.1347-4.8051 3.1725-4.8051z"/><path d="m173.85 7.0307c-3.4388.0-5.2682 2.6052-5.2682 6.3682.0 3.8325 1.8062 6.345 5.245 6.345 3.4156.0 5.245-2.6399 5.245-6.3682.0-3.8672-1.7831-6.345-5.2219-6.345zm0 1.5862c2.0726.0 3.1378 1.5168 3.1378 4.7587s-1.0652 4.7703-3.1609 4.7703c-2.0957.0-3.1609-1.5284-3.1609-4.7472.0-3.2651 1.0884-4.7819 3.1841-4.7819z"/><path d="m194.61 3.8466 1.1463-2.3504-1.5515-.76418-9.9112 20.436 1.5747.69471 7.9776-16.441 11.023 6.8081-8.1744 5.0482 1.0536 1.4357 8.788-5.4998v-1.9915z"/></g></g></svg></a></div></header><main><article><h1 id=taxonom√≠a-de-tags-highlighting-de-c√≥digo-y-anal√≠tica>Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica</h1><section class=under-title><div class=under-title__left>By Asur |
<time datetime=2019-10-26T11:27:32>26-10-2019</time><ul id=tags><li>Tags:</li><li><a href=https://asur.dev/tags/evolutivo/>Evolutivo</a></li></ul></div><div class="under-title__right social-share"><amp-social-share class=social-share__button aria-label="Compartir contenido" type=system width=50 height=50></amp-social-share><amp-social-share class=social-share__button aria-label="Compartir en Facebook" type=facebook width=50 height=50></amp-social-share><amp-social-share class=social-share__button aria-label="Compartir en Twitter" type=twitter width=50 height=50></amp-social-share><amp-social-share class=social-share__button aria-label="Compartir en Linkedin" type=linkedin width=50 height=50></amp-social-share><amp-social-share class=social-share__button aria-label="Compartir en pinterest" type=pinterest width=50 height=50></amp-social-share></div></section><p>Seguimos adelante, esta vez avanzo un poco m√°s con el interlinking creando una taxonom√≠a de tags, adem√°s de server-side code highlighting y he montado todo lo necesario para recopilar datos y analizarlos con Cloudflare, Google Analytics y Search Console, adem√°s de un peque√±o an√°lisis de lo m√°s interesante de cada uno.</p><p><b>Tabla de contenidos:</b><nav id=TableOfContents><ul><li><a href=#taxonom√≠a-de-tags-highlighting-de-c√≥digo-y-anal√≠tica>Taxonom√≠a de tags, highlighting de c√≥digo y anal√≠tica</a><ul><li><a href=#highlighting-de-c√≥digo>Highlighting de c√≥digo ‚ú®</a></li><li><a href=#taxonom√≠a-de-tags>Taxonom√≠a de tags üè∑Ô∏è</a></li><li><a href=#anal√≠tica>Anal√≠tica üìä</a><ul><li><a href=#google-analytics>Google Analytics</a></li><li><a href=#search-console>Search console</a></li><li><a href=#cloudflare>Cloudflare</a></li></ul></li><li><a href=#siguientes-pasos>Siguientes pasos üë£</a></li><li><a href=#wayback-machine>Wayback Machine ‚è∞</a></li></ul></li></ul></nav></p><h2 id=highlighting-de-c√≥digo>Highlighting de c√≥digo ‚ú®</h2><p>Desde un principio esta funcionalidad ha estado en el punto de mira, me encanta escribir snippets en mis posts, porque <em>talk is cheap, show me the code</em> es un mantra con el que me identifico y me gusta ir de <em>hardcore programmer</em>.</p><p>Me encanta como est√° implementado esto en Hugo, se puede considerar <em>server-side highlighting</em>, ya que a la hora de compilar tu contenido a HTML se utiliza <a href=https://github.com/alecthomas/chroma>Chroma</a>, una librer√≠a escrita en Go que analiza y aplica markup a tus snippets y luego a trav√©s de CSS puedes darles estilos.</p><p>En mi opini√≥n esto es un acercamiento mucho m√°s √≥ptimo que al highlight en el cliente, como el de <a href=https://highlightjs.org/>highlight.js</a> ya que adem√°s de no ocupar tiempo en el hilo de javascript analizando texto al vuelo, no habr√° ning√∫n parpadeo en el que el c√≥digo salga sin estilos.</p><p>Para resaltar un trozo de c√≥digo a la hora de escribir contenido tengo que usar un shortcode nativo de Hugo:</p><pre><code>{{&lt; highlight php &quot;linenos=table&quot; &gt;}}

&lt;?php

// ... code

function foo() {
    $bar = 'string';
}

{{&lt; /highlight &gt;}}
</code></pre><p>Que se ver√° de la siguiente manera:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-php data-lang=php><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-php data-lang=php><span class=cp>&lt;?php</span>

<span class=c1>// ... code
</span><span class=c1></span>
<span class=k>function</span> <span class=nf>foo</span><span class=p>()</span> <span class=p>{</span>
    <span class=nv>$bar</span> <span class=o>=</span> <span class=s1>&#39;string&#39;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><p>Uno de mis objetivos era que se pudiese copiar y pegar el c√≥digo resaltado sin incluir los n√∫meros de l√≠nea, algo que pasa muy a menudo en muchas webs y me saca de quicio. Para hacerlo posible hay que incluir el atributo <code>&quot;linenos=table&quot;</code> al shortcode, de esta forma se utilizar√°n tablas HTML al maquetar la estructura de c√≥digo y sus l√≠neas independientemente, en vez de solo insertar un n√∫mero al principio de estas √∫ltimas.</p><p>Como detalle final, la librer√≠a de Chroma es compatible con los temas de Pygments, otra librer√≠a similar pero escrita en Python, y esto abre un abanico enorme de <a href=https://xyproto.github.io/splash/docs/>combinaciones de colores</a>. Yo me he decantado por el tema <em>Github</em>, como no&hellip; Para aplicarlo tenemos que habilitar en la configuraci√≥n de nuestro sitio <code>pygmentsUseClasses = true</code> e incluir el CSS generado por el comando <code>hugo gen chromastyles --style=github &gt; syntax.css</code> a nuestro fichero de estilos.</p><h2 id=taxonom√≠a-de-tags>Taxonom√≠a de tags üè∑Ô∏è</h2><p>Las taxonom√≠as <strong>son maneras de agrupar elementos por caracter√≠sticas comunes</strong>. La primera implementaci√≥n que voy a hacer al respecto es la de tags. Es una estrategia muy com√∫n a la hora de crear una estructura de links para SEO, tambi√©n ayudar√°, por supuesto, a los usuarios a encontrar contenido que les interese m√°s f√°cilmente.</p><p>Hugo ya incluye por defecto dos taxonom√≠as: tags y categor√≠as, adem√°s de poder crear las tuyas propias. He empezado por tags por mera comodidad, creo que las categor√≠as las dejar√© para cuando implemente unas migas de pan y lo har√© todo junto.</p><p>La implementaci√≥n, al estar ya soportado, no tiene mucha miga, para empezar a√±adimos las tags en la metadata del post de turno:</p><pre><code>tags = ['Evolutivo', 'Data', 'Hugo']
</code></pre><p>Una vez tenemos los datos, pasan a formar parte del objeto del post y los podemos listar, como se puede ver encima del t√≠tulo de este post:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&#34;tags&#34;</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Tags:<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Param</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=cp>}}</span>
        <span class=cp>{{</span><span class=w> </span><span class=nx>$name</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=cp>}}</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=na>$.Site.GetPage</span><span class=w> </span><span class=o>(</span><span class=k>printf</span><span class=w> </span><span class=s>&#34;/%s/%s&#34;</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=o>(</span><span class=nx>$name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>urlize</span><span class=o>))</span><span class=w> </span><span class=cp>}}</span>
            <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Permalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$name</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span></code></pre></td></tr></table></div></div><p>Por √∫ltimo tenemos que crear una plantilla para las p√°ginas de taxonom√≠a. Es obligatorio que se llame <code>taxonomy.html</code> y es lo que se renderizar√° cuando se navegue al link que tiene cada tag. Ya tenemos accesibles todas las entradas pertenecientes a esa tag, por lo que el c√≥digo se parece mucho al de la homepage, un t√≠tulo (que ser√° el nombre de la tag) y un bucle para imprimir los links:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=nx>define</span><span class=w> </span><span class=s>&#34;main&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Title</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Pages</span><span class=w> </span><span class=cp>}}</span>
            <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
                <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Permalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span><span class=cp>{{</span><span class=na>.PublishDate.Format</span><span class=w> </span><span class=s>&#34;02-01-2006&#34;</span><span class=cp>}}</span> | <span class=cp>{{</span><span class=w> </span><span class=na>.Title</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
            <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></td></tr></table></div></div><p>Finiquitado, ya tenemos una taxonom√≠a b√°sica montada y la estructura b√°sica para a√±adir m√°s en el futuro!</p><h2 id=anal√≠tica>Anal√≠tica üìä</h2><p>Soy un <em>nerd</em> para los n√∫meros, no tengo ni idea de an√°lisis ni representaci√≥n de datos pero me encanta mirar gr√°ficas, por lo que la parte de anal√≠tica iba a llegar m√°s pronto que tarde. Por el momento he decidido utilizar tres fuentes de datos: Google Analytics, Search console y Cloudflare.</p><h3 id=google-analytics>Google Analytics</h3><p>Google Analytics <strong>es una navaja suiza</strong>, con el conocimiento suficiente que espero ir adquiriendo con el tiempo puedes hacer pr√°cticamente lo que quieras en lo que recolecci√≥n de datos se refiere.</p><p>Para a√±adirlo en una p√°gina AMP tenemos que usar el componente <code>amp-analytics</code> de la siguiente manera:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>amp-analytics</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;gtag&#34;</span> <span class=na>data-credentials</span><span class=o>=</span><span class=s>&#34;include&#34;</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;application/json&#34;</span><span class=p>&gt;</span>
    <span class=p>{</span>
      <span class=s2>&#34;vars&#34;</span><span class=o>:</span> <span class=p>{</span>
        <span class=s2>&#34;gtag_id&#34;</span><span class=o>:</span> <span class=s2>&#34;UA-128498798-1&#34;</span><span class=p>,</span>
        <span class=s2>&#34;config&#34;</span><span class=o>:</span> <span class=p>{</span>
          <span class=s2>&#34;UA-128498798-1&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;groups&#34;</span><span class=o>:</span> <span class=s2>&#34;default&#34;</span> <span class=p>}</span>
        <span class=p>}</span>
      <span class=p>},</span>
      <span class=s2>&#34;triggers&#34;</span><span class=o>:</span> <span class=p>{</span>
        <span class=s2>&#34;trackPageview&#34;</span><span class=o>:</span> <span class=p>{</span>
          <span class=s2>&#34;on&#34;</span><span class=o>:</span> <span class=s2>&#34;visible&#34;</span><span class=p>,</span>
          <span class=s2>&#34;request&#34;</span><span class=o>:</span> <span class=s2>&#34;pageview&#34;</span>
        <span class=p>}</span>
      <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>amp-analytics</span><span class=p>&gt;</span></code></pre></td></tr></table></div></div><p>Los datos que m√°s me interesan son:</p><p><strong>Usuarios y sesiones:</strong> De manera general puedo ver la cantidad de usuarios y sesiones de la web, as√≠ como el porcentaje de rebote y las p√°ginas visitadas por cada sesi√≥n.</p><p><amp-img class=post__image alt="Usuarios y sesiones - Google Analytics" src=/images/google-analytics-audiencia-general.jpg width=1617 height=623 layout=responsive></amp-img></p><p><strong>Adquisici√≥n:</strong> Tambi√©n me gusta ver como han llegado los usuarios al sitio y la diferencia de calidad de los diferentes tipos.</p><p><amp-img class=post__image alt="Adquisici√≥n de usuarios - Google Analytics" src=/images/google-analytics-adquisicion.jpg width=1131 height=331 layout=responsive></amp-img></p><p><strong>Tiempo en p√°gina de posts:</strong> Una vista algo m√°s at√≥mica de como est√°n funcionando cada uno de los posts, para posteriormente poder analizarlo e iterar.</p><p><amp-img class=post__image alt="Comportamiento por post - Google Analytics" src=/images/google-analytics-comportamiento-posts.jpg width=1620 height=417 layout=responsive></amp-img></p><p>Por supuesto hay muchos m√°s datos, como demogr√°fica y flujos de navegaci√≥n pero no me interesan tanto en la fase actual en la que est√° el blog, en un futuro quiz√°s los revisite.</p><h3 id=search-console>Search console</h3><p>Search console te muestra <strong>datos de la indexaci√≥n de tu web en Google</strong>, as√≠ como las mejoras manuales que ha detectado en tu web.</p><p>El proceso de validaci√≥n es a trav√©s de DNS, lo √∫nico que hay que a√±adir es un registro TXT con el contenido que se nos indica al registrarnos y listo, ya tenemos acceso.</p><pre><code>Type  | Name              | Content                         | TTL
------|-------------------|---------------------------------|------
TXT   | asurbernardo.com  | google-site-verification=drV... | 5 min
</code></pre><p>Las partes a las que prestar√© m√°s atenci√≥n son:</p><p><strong>Rendimiento:</strong> Las veces que aparecen una p√°gina de esta web en Google listada, en que posici√≥n y que CTR tiene.</p><p><amp-img class=post__image alt="Rendimiento - Search Console" src=/images/search-console-rendimiento.jpg width=913 height=363 layout=responsive></amp-img></p><p><strong>Cobertura:</strong> Informaci√≥n sobre como est√° indexado este site en Google, las p√°ginas correctas y los posibles errores.</p><p><amp-img class=post__image alt="Cobertura - Search Console" src=/images/search-console-cobertura.jpg width=909 height=430 layout=responsive></amp-img></p><p><strong>Mejoras:</strong> Todas las se√±ales que indican a Google la calidad de la p√°gina m√°s all√° del contenido, como datos estructurados, AMP, etc.</p><p><amp-img class=post__image alt="Mejoras - Search console" src=/images/search-console-mejoras.jpg width=908 height=210 layout=responsive></amp-img></p><h3 id=cloudflare>Cloudflare</h3><p>Con Cloudflare no he tenido que hacer nada, ya estaba montado desde el principio como proxy de esta web, pero sigue teniendo una parte de anal√≠tica muy interesante, que est√° m√°s orientada a los datos t√©cnicos y son mucho m√°s crudos que en el resto de plataformas ya que son recaudados a nivel DNS y proxy.</p><p>Las partes m√°s interesantes son:</p><p><strong>Requests:</strong> Esto es m√°s por curiosidad que otra cosa, al final el ancho de banda consumido y los hits cacheados le concierne a Github, no a m√≠, pero a√∫n as√≠ me encanta saberlo.</p><p><amp-img class=post__image alt="Mejoras - Search console" src=/images/cloudflare-ancho-de-banda.jpg width=1018 height=520 layout=responsive></amp-img></p><p><strong>Datos t√©cnicos:</strong> Ver que porcentaje de uso de <em>http/2</em>, la cantidad de datos ahorrados por la compresi√≥n <em>gzip</em> y la descomposici√≥n de como se usa el ancho de banda, de nuevo, no es que sea imprescindible pero puede dar informaci√≥n relavante dependiendo del contexto, y qu√© mejor manera de hacerlo que en forma de quesitos?</p><p><amp-img class=post__image alt="Mejoras - Search console" src=/images/cloudflare-datos-tecnicos.jpg width=1025 height=378 layout=responsive></amp-img></p><h2 id=siguientes-pasos>Siguientes pasos üë£</h2><p>Para el siguiente evolutivo ya tengo bastante claro en que va a consistir, ya he empezado a trabajar (con ayuda) en una mejora del workflow de desarrollo y redacci√≥n de contenido, vamos a crear un flujo con Docker, <code>docker-compose</code> y Makefiles, adem√°s tambi√©n me voy a apuntar a la beta abierta de Github Actions y haremos algo de despliegue continuo. <em>Stay tuned!</em> üòé</p><h2 id=wayback-machine>Wayback Machine ‚è∞</h2><p>Ver la <a href=https://web.archive.org/web/20191026093302/https://asurbernardo.com/evolutivos/taxonomia-de-tags-highlight-codigo-analitica/ title="Versi√≥n original del post">versi√≥n original de este post</a>.</p><h2>Lecturas relacionadas</h2><ul><li><div><a href=https://asur.dev/evolutivos/la-primera-iteracion-amp-estilos-y-miscelanea/>#1 AMP, estilos y otras miscelaneas</a></div></li><li><div><a href=https://asur.dev/evolutivos/el-primer-post-en-mi-nuevo-blog/>#0 El primer post en mi nuevo blog!</a></div></li></ul></article></main><footer></footer></body></html>