<!doctype html><html i-amphtml-layout i-amphtml-no-boilerplate lang=es transformed="google;v=2" ⚡><head><meta charset=utf-8><style amp-runtime i-amphtml-version=latest></style><meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport><meta content="La publicación de mi tema **Amperage** está cerca. Preparo funcionalidades que la gente probablemente necesite como paginación, poder sobreescribir estilos y más" name=description><meta content="Metablog #8 - Preparando Amperage para el dominio público (I)" property=og:title><meta content=https://asur.dev/metablogs/preparacion-tema-gohugo-amperage-dominio-publico-i/ property=og:url><meta content="La publicación de mi tema **Amperage** está cerca. Preparo funcionalidades que la gente probablemente necesite como paginación, poder sobreescribir estilos y más" property=og:description><meta content=https://asur.dev/images/preparacion-tema-gohugo-amperage-dominio-publico/share-card.jpg property=og:image><meta content=article property=og:type><meta content property=og:site_name><meta content=summary_large_image name=twitter:card><meta content="Metablog #8 - Preparando Amperage para el dominio público (I)" name=twitter:title><meta content=https://asur.dev/metablogs/preparacion-tema-gohugo-amperage-dominio-publico-i/ name=twitter:url><meta content="La publicación de mi tema **Amperage** está cerca. Preparo funcionalidades que la gente probablemente necesite como paginación, poder sobreescribir estilos y más" name=twitter:description><meta content=https://asur.dev/images/preparacion-tema-gohugo-amperage-dominio-publico/share-card.jpg name=twitter:image><meta content=@asurbernardo name=twitter:site><meta content=#333 name=theme-color><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-install-serviceworker src=https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js></script><script async custom-element=amp-social-share src=https://cdn.ampproject.org/v0/amp-social-share-0.1.js></script><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href rel="dns-prefetch preconnect"><link href=https://asur-dev.cdn.ampproject.org rel="dns-prefetch preconnect"><style amp-custom>*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}.chroma{background-color:#fff}.chroma .err{color:#a61717;background-color:#e3d2d2}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#000;font-weight:700}.chroma .kc{color:#000;font-weight:700}.chroma .kd{color:#000;font-weight:700}.chroma .kn{color:#000;font-weight:700}.chroma .kp{color:#000;font-weight:700}.chroma .kr{color:#000;font-weight:700}.chroma .kt{color:#458;font-weight:700}.chroma .na{color:teal}.chroma .nb{color:#0086b3}.chroma .bp{color:#999}.chroma .nc{color:#458;font-weight:700}.chroma .no{color:teal}.chroma .nd{color:#3c5d5d;font-weight:700}.chroma .ni{color:purple}.chroma .ne{color:#900;font-weight:700}.chroma .nf{color:#900;font-weight:700}.chroma .nl{color:#900;font-weight:700}.chroma .nn{color:#555}.chroma .nt{color:navy}.chroma .nv{color:teal}.chroma .vc{color:teal}.chroma .vg{color:teal}.chroma .vi{color:teal}.chroma .s{color:#d14}.chroma .sa{color:#d14}.chroma .sb{color:#d14}.chroma .sc{color:#d14}.chroma .dl{color:#d14}.chroma .sd{color:#d14}.chroma .s2{color:#d14}.chroma .se{color:#d14}.chroma .sh{color:#d14}.chroma .si{color:#d14}.chroma .sx{color:#d14}.chroma .sr{color:#009926}.chroma .s1{color:#d14}.chroma .ss{color:#990073}.chroma .m{color:#099}.chroma .mb{color:#099}.chroma .mf{color:#099}.chroma .mh{color:#099}.chroma .mi{color:#099}.chroma .il{color:#099}.chroma .mo{color:#099}.chroma .o{color:#000;font-weight:700}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#998;font-style:italic}.chroma .ch{color:#998;font-style:italic}.chroma .cm{color:#998;font-style:italic}.chroma .c1{color:#998;font-style:italic}.chroma .cs{color:#999;font-weight:700;font-style:italic}.chroma .cp{color:#999;font-weight:700;font-style:italic}.chroma .cpf{color:#999;font-weight:700;font-style:italic}.chroma .gd{color:#000;background-color:#fdd}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#a00}.chroma .gh{color:#999}.chroma .gi{color:#000;background-color:#dfd}.chroma .go{color:#888}.chroma .gp{color:#555}.chroma .gs{font-weight:700}.chroma .gu{color:#aaa}.chroma .gt{color:#a00}.chroma .gl{text-decoration:underline}.chroma .w{color:#bbb}body{display:grid;grid-template-columns:repeat(12,1fr);grid-gap:1em 1em;font-size:1.2em;font-family:Courier New;line-height:2;color:#333}.header,.main,.footer{grid-column:4/span 6}.header{margin-top:1em}.header__menu{margin:0;padding:0;display:flex;overflow:auto;justify-content:flex-start;border:1px solid #333}.header__menu a{border-bottom:none}.header__menu a:hover{color:#d14}.header__menu__logo{line-height:0}.header__menu__logo svg{width:75px;height:75px;min-width:75px;min-height:75px}.header__menu__list{display:flex;flex-grow:1;flex-wrap:nowrap;align-items:center;justify-content:space-around}.header__menu__list li{padding:0 1em;display:inline}.main .pagination{margin:2em auto;display:flex;justify-content:space-between}.main .pagination a{border-bottom:none}.main .pagination a:hover{color:#d14}.footer{display:flex;justify-content:space-between;flex-wrap:wrap}h1,h2,h3,h4{font-family:Helvetica;line-height:1.5}h1{font-size:4rem}h2{font-size:2.5rem}h3{font-size:2rem}h4{font-size:1.5rem}a{color:inherit;text-decoration:none;border-bottom:2px dashed #37474f;transition:background .3s}a:hover{border-color:#d14}li{margin-top:.25em}pre,code{font-family:lucida console,Monaco,monospace;font-size:12pt;background-color:#f1f1f1}blockquote{margin:inherit auto;margin-left:1em;padding:1em;border-left:5px solid #999}blockquote:before{display:none}blockquote:not(:first-of-type){margin-top:.5em}blockquote p{color:#555;font-size:1.25em;font-family:times new roman,serif}#tags{margin:0;padding:0}#tags li{display:inline}.content,.summary{width:100%}.content>*,.summary>*{margin-top:1.5em}.content>h1,.summary>h1{margin-top:.5em}.content pre,.summary pre{overflow:auto;padding:1em}.content code,.summary code{padding:.1em}.content table,.summary table{display:block;overflow-x:auto;border-collapse:collapse}.content table td,.content table th,.summary table td,.summary table th{border:1px solid #ddd}.content table td,.summary table td{padding:.5em 1em}.content table th,.summary table th{padding:1em 2em;background-color:#d14;color:#fff}.content table tr:nth-child(even),.summary table tr:nth-child(even){background-color:#f1f1f1}.content table tr:hover,.summary table tr:hover{background-color:#ddd}.content .highlight,.summary .highlight{overflow:auto}.content .highlight .chroma,.summary .highlight .chroma{background-color:#f1f1f1}.content .under-title,.summary .under-title{display:flex;flex-wrap:wrap;justify-content:space-between;line-height:1.5;font-size:1rem}.content .under-title__info,.content .under-title__social-share,.summary .under-title__info,.summary .under-title__social-share{align-self:center}.content .under-title__social-share,.summary .under-title__social-share{display:flex;align-items:center}.content .under-title__social-share__button,.summary .under-title__social-share__button{margin:0 .5em;border-radius:50%;background-size:60%}.content .ad,.summary .ad{display:block;margin:auto;width:min-content;border:1px solid #333}@media(max-width:1200px){body{grid-gap:0}.main,.header,.footer{grid-column:1/span 12}.main,.footer{margin:.5em .75em 0 .5em}.header{margin:0}.header__menu{border:none;border-bottom:1px solid #333}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.66rem}h4{font-size:1.25rem}}@media(max-width:600px){.under-title__social-share{width:100%;margin-top:1.5em;justify-content:space-between}}</style><title>Metablog #8 - Preparando Amperage para el dominio público (I)</title><link href=https://asur.dev/metablogs/preparacion-tema-gohugo-amperage-dominio-publico-i/ rel=canonical><link href=https://asur.dev/sitemap.xml rel=sitemap type=application/xml><link href=https://asur.dev/manifest.json rel=manifest><link href=https://asur.dev/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180></head><body><amp-install-serviceworker class=i-amphtml-layout-nodisplay data-iframe-src=https://asur.dev/install-sw.html hidden=hidden i-amphtml-layout=nodisplay layout=nodisplay src=https://asur.dev/sw.js></amp-install-serviceworker><amp-analytics class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" data-credentials=include i-amphtml-layout=fixed style=width:1px;height:1px; type=gtag><script type=application/json>{"vars":{"gtag_id":"UA-128498798-1","config":{"UA-128498798-1":{"groups":"default"}}},"triggers":{"trackPageview":{"on":"visible","request":"pageview"}}}</script></amp-analytics><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/asur.dev","name":"Inicio"}},{"@type":"ListItem","position":2,"item":{"@id":"https:\/\/asur.dev\/metablogs\/","name":"Metablogs"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/asur.dev\/metablogs\/preparacion-tema-gohugo-amperage-dominio-publico-i\/","name":"Preparacion tema gohugo amperage dominio publico i"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","image":"https:\/\/asur.dev\/images\/preparacion-tema-gohugo-amperage-dominio-publico\/share-card.jpg","url":"https:\/\/asur.dev\/metablogs\/preparacion-tema-gohugo-amperage-dominio-publico-i\/","headline":"Metablog #8 - Preparando Amperage para el dominio público (I)","alternativeHeadline":"Metablog #8 - Preparando Amperage para el dominio público (I)","dateCreated":"2019-12-11T10:40:13","datePublished":"2019-12-11T10:40:13","dateModified":"2019-12-11T10:40:13","inLanguage":"es","isFamilyFriendly":"true","copyrightYear":"2019","copyrightHolder":"Asur","accountablePerson":{"@type":"Person","name":"Asur","url":"\/"},"author":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev\/"},"creator":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev\/"},"publisher":{"@type":"Organization","name":"Asur Bernardo","url":"https:\/\/asur.dev","logo":{"@type":"ImageObject","url":"\/logo-amp-article.png","width":"600","height":"60"}},"mainEntityOfPage":"https:\/\/asur.dev\/metablogs\/preparacion-tema-gohugo-amperage-dominio-publico-i\/","keywords":"[\"blog\",\"desarrollo\",\"gohugo\",\"amperage\",\"publicación\",\"tema\"]","genre":"[\"Evolutivo\"]","articleSection":"Los metablogs | By Asur 🧐"}</script><header class=header><nav class=header__menu><a aria-label="Volver a la página de inicio" class=header__menu__logo data-rel=prefetch href=https://asur.dev/ target=_top><svg viewbox="0 0 39.687 39.688"><g transform="translate(0 -257.31)"><path d="M-4.7247 254.1h46.68v44.507h-46.68z" fill=#333 stroke-width=.26458></path><g aria-label=a/ fill=#fff stroke-width=.47195 transform="matrix(.95987 0 0 .99672 -.00047323 11.993)"><path d="m16.898 272.93v-7.3088c0-3.0104-1.9104-4.9208-5.7023-4.9208-1.4762.0-3.1262.26052-4.9787.95522l.63681 1.8381c1.5775-.54997 2.9525-.78154 3.9656-.78154 2.2723.0 3.6327.82496 3.6327 3.0248v1.2736h-2.2433c-4.6313.0-7.1496 1.7368-7.1496 4.8774.0 2.8367 1.867 4.7037 4.9208 4.7037 1.9683.0 3.6906-.72365 4.7761-2.142.43419 1.3605 1.4762 1.9683 2.7933 2.142l.59339-1.7078c-.8539-.26051-1.2447-.72365-1.2447-1.9538zm-6.2957 1.8091c-1.9828.0-2.938-.98416-2.938-2.8801.0-1.9538 1.2302-3.1985 4.5879-3.1985h2.1999v3.9222c-.91179 1.3605-2.3446 2.1565-3.8498 2.1565z" style=font-feature-settings:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal></path><path d="m23.928 279.24 12.36-25.458-1.9394-.95521-12.389 25.545z" style=font-feature-settings:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal></path></g></g></svg></a><ul class=header__menu__list><li><a href=https://github.com/asurbernardo rel="nofollow noopener noreferrer" target=_blank><span>GitHub</span></a></li><li><a href=https://www.linkedin.com/in/asur-bernardo/ rel="nofollow noopener noreferrer" target=_blank><span>LinkedIn</span></a></li><li><a href=https://twitter.com/asurbernardo rel="nofollow noopener noreferrer" target=_blank><span>Twitter</span></a></li><li><a data-rel=prefetch href=https://asur.dev/support/ target=_top><span>Apóyame</span></a></li></ul></nav></header><main class=main><article class=content><h1 id=preparando-amperage-para-el-dominio-público-i>Preparando Amperage para el dominio público (I)</h1><section class=under-title><div class=under-title__info><time datetime=2019-12-11T10:40:13>11 de Diciembre 2019</time> por Asur<ul id=tags><li>Tags:</li> <li><a data-rel=prefetch href=https://asur.dev/tags/evolutivo/ target=_top>Evolutivo</a></li></ul></div><div class=under-title__social-share><amp-social-share aria-label="Compartir contenido" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=system width=50></amp-social-share><amp-social-share aria-label="Compartir en Facebook" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=facebook width=50></amp-social-share><amp-social-share aria-label="Compartir en Twitter" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=twitter width=50></amp-social-share><amp-social-share aria-label="Compartir en Linkedin" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=linkedin width=50></amp-social-share><amp-social-share aria-label="Compartir en Pinterest" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=pinterest width=50></amp-social-share></div></section><p>La fecha de publicación de <strong>Amperage</strong> cada vez está más cerca. Ha llegado un punto es el que estoy satisfecho con el proyecto para crear una versión inicial <code>1.0.0</code>.</p><blockquote><p>¿Pero a qué te refieres con publicar? Ya das la chapa todas las semanas por Twitter… 🤨</p></blockquote><p>Pues resulta que GoHugo tiene una <a href=https://themes.gohugo.io/ target=_top>página con sus temas oficiales</a>. <strong>Mi objetivo es que Amperage llegue a estar listado en esa página.</strong></p><p>Existe un <a href=https://github.com/gohugoio/hugoThemes/blob/master/README.md#adding-a-theme-to-the-list target=_top>procedimiento a seguir</a> para conseguirlo, hay que crear un <em>Issue</em> en el repositorio de esa página, pero antes hay que cumplir una serie de requisitos básicos y por supuesto tener unas features que atraigan a la gente a usar tu tema.</p><p>De esto voy a hablar en este metablog, de los toques finales antes de mandar mi solicitud! A por ello!!</p><p><b>Tabla de contenidos:</b></p><nav id=TableOfContents><ul><li><a href=#preparando-amperage-para-el-dominio-público-i>Preparando Amperage para el dominio público (I)</a><ul><li><a href=#paginación-de-listados>Paginación de listados 📖</a></li><li><a href=#traducción-de-fechas>Traducción de fechas 📅</a></li><li><a href=#poder-sobreescribir-estilos>Poder sobreescribir estilos 💅</a></li><li><a href=#soportar-menús>Soportar menús 🍔</a></li><li><a href=#links-entre-idiomas>Links entre idiomas 🌏</a></li><li><a href=#próximo-destino>Próximo destino 🛣️</a></li></ul></li></ul></nav><p></p><h2 id=paginación-de-listados>Paginación de listados 📖</h2><p>De momento la cantidad de posts que tengo en el blog no es descomunal, por lo que puedo ir tirando sin paginación, además mi homepage pesa 6Kb así que tampoco es que se vaya a sobrecargar el DOM.</p><p>Aún así carecer de paginación no es escalable y tampoco significa que alguien que vaya a usar el tema no necesite esta funcionalidad, así que toca implementarla.</p><p>Este es otro ejemplo de funcionalidad con soporte nativo por parte de Hugo. Lo único que he tenido que hacer es una plantilla de paginación simple (<em>anterior/siguiente</em>) y darle unos estilos para que sea consecuente con el resto de la web.</p><p>La plantilla de paginación queda así:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>gt</span><span class=w> </span><span class=na>.Paginator.TotalPages</span><span class=w> </span><span class=nx>1</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>nav</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;pagination&#34;</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=na>.Paginator.HasPrev</span><span class=w> </span><span class=cp>}}</span>
      <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Paginator.Prev.URL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absLangURL</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span><span class=err>&lt;&lt;</span> <span class=cp>{{</span><span class=w> </span><span class=nx>i18n</span><span class=w> </span><span class=s>&#34;previous&#34;</span><span class=w> </span><span class=cp>}}</span> <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span> <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;</span> <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=na>.Paginator.HasNext</span><span class=w> </span><span class=cp>}}</span>
      <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Paginator.Next.URL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absLangURL</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span> <span class=cp>{{</span><span class=w> </span><span class=nx>i18n</span><span class=w> </span><span class=s>&#34;next&#34;</span><span class=w> </span><span class=cp>}}</span> &gt;&gt;<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span> <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;</span> <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;/</span><span class=nt>nav</span><span class=p>&gt;</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></td></tr></tbody></table></div></div><p>Y con estos estilos básicos quedaría presentable:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-scss data-lang=scss><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-scss data-lang=scss><span class=nc>.pagination</span> <span class=p>{</span>
  <span class=nt>margin</span><span class=nd>:</span> <span class=nt>2em</span> <span class=nt>auto</span><span class=o>;</span>
  <span class=nt>display</span><span class=nd>:</span> <span class=nt>flex</span><span class=o>;</span>
  <span class=nt>justify-content</span><span class=nd>:</span> <span class=nt>space-between</span><span class=o>;</span>
  <span class=nt>a</span> <span class=p>{</span>
    <span class=nt>border-bottom</span><span class=nd>:</span> <span class=nt>none</span><span class=o>;</span>
    <span class=k>&amp;</span><span class=nd>:hover</span> <span class=p>{</span>
      <span class=nt>color</span><span class=nd>:</span> <span class=err>$</span><span class=nt>main-color</span><span class=o>;</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span></code></pre></td></tr></tbody></table></div></div><p>Por supuesto para que los robots detecten esta paginación también he añadido las metatags con <code>rel=&#34;next&#34;</code> y <code>rel=&#34;prev&#34;</code> en el head de la siguiente manera:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=na>.Paginator</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>gt</span><span class=w> </span><span class=na>.TotalPages</span><span class=w> </span><span class=nx>1</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=na>.HasPrev</span><span class=w> </span><span class=cp>}}</span>
      <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;prev&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Prev.URL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absLangURL</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=na>.HasNext</span><span class=w> </span><span class=cp>}}</span>
      <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;next&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Next.URL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absLangURL</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></td></tr></tbody></table></div></div><p>Para verlo me temo que vas a tener que esperar al siguiente post porque he puesto la paginación a 10 y es justo la cantidad que llevo, así que todavía no se ve nada! 😁</p><h2 id=traducción-de-fechas>Traducción de fechas 📅</h2><p>Quedaba un poco raro en los posts que la fecha saliese con el formato numérico (<code>05-09-1994</code>). Además en otros paises como EEUU el mes va delante del día, así que me ha tocado echar un ojo a esto también.</p><p>Al final he decidido escribir el mes en letra, en vez de en cifra, creo que queda mejor en general. Para esto he tenido que hacer un <em>workaround</em> algo raro:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=p>&lt;</span><span class=nt>time</span> <span class=na>datetime</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Page.PublishDate.Format</span><span class=w> </span><span class=s>&#34;2006-01-02T15:04:05&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>safeHTMLAttr</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$months</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=na>.Site.Data</span><span class=w> </span><span class=o>(</span><span class=nx>i18n</span><span class=w> </span><span class=s>&#34;months&#34;</span><span class=o>)</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$month</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=nx>$months</span><span class=w> </span><span class=o>(</span><span class=k>printf</span><span class=w> </span><span class=s>&#34;%d&#34;</span><span class=w> </span><span class=na>.Page.PublishDate.Month</span><span class=o>)</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>i18n</span><span class=w> </span><span class=s>&#34;published&#34;</span><span class=w> </span><span class=o>(</span><span class=nx>dict</span><span class=w>
</span><span class=w>    </span><span class=s>&#34;Day&#34;</span><span class=w> </span><span class=na>.Page.PublishDate.Day</span><span class=w>
</span><span class=w>    </span><span class=s>&#34;Month&#34;</span><span class=w> </span><span class=nx>$month</span><span class=w>
</span><span class=w>    </span><span class=s>&#34;Year&#34;</span><span class=w> </span><span class=na>.Page.PublishDate.Year</span><span class=o>)</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;/</span><span class=nt>time</span><span class=p>&gt;</span></code></pre></td></tr></tbody></table></div></div><p>La idea es que con esta línea <code>{{ $months := index .Site.Data (i18n &#34;months&#34;) }}</code> puedo mirar un fichero en la carpeta data del tenga el nombre de <code>meses</code> en el idioma correspondiente, por ejemplo si la página está en inglés buscará <code>months.yml</code>.</p><p>Ahora si creo ese fichero con los meses y como clave su número en el año los puedo imprimir. Así quedaría por ejemplo el <code>months.yml</code>:</p><pre><code>1: &#34;January&#34;
2: &#34;February&#34;
3: &#34;March&#34;
4: &#34;April&#34;
5: &#34;May&#34;
6: &#34;June&#34;
7: &#34;July&#34;
8: &#34;August&#34;
9: &#34;September&#34;
10: &#34;October&#34;
11: &#34;November&#34;
12: &#34;December&#34;
</code></pre><h2 id=poder-sobreescribir-estilos>Poder sobreescribir estilos 💅</h2><p>Pues claro! La gente es poco probable que tenga el mismo gusto que yo, así que he implementado la posibilidad de sobreescribir los estilos por defecto.</p><p>El CSS original minificado solo pesa 5Kb así que deja otros 45Kb extra de margen para que la gente lo deje a su gusto!</p><p>Lo único que tienen que hacer es añadirlos en <code>assets/custom.scss</code> y ya se transpila, minifica e inserta automáticamente. 👍</p><p>Lo he conseguido jugando un poco con el <em>lookup order</em> de Hugo:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=p>&lt;</span><span class=nt>style</span> <span class=na>amp-custom</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;styles.scss&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.ToCSS</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.Minify</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=na>.Content</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>safeCSS</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;custom.scss&#34;</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;custom.scss&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.ToCSS</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.Minify</span><span class=w> </span><span class=cp>}}</span>
      <span class=cp>{{</span><span class=w> </span><span class=na>.Content</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>safeCSS</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span></code></pre></td></tr></tbody></table></div></div><h2 id=soportar-menús>Soportar menús 🍔</h2><p>Si has visitado la lista de requisitos que he linkeado arriba, puedes ver que una de las condiciones es soportar el <a href=https://github.com/gohugoio/hugoBasicExample target=_top>ejemplo básico de site de Hugo</a>. Pues adivina, este ejemplo tiene menús, así que otra cosa más para la lista.</p><p>Los menús en Hugo se configuran en el <code>config.toml</code> y es algo <em>custom</em> de cada site. Queda así:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-toml data-lang=toml><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-toml data-lang=toml><span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
  <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;linkedin&#34;</span>
  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;LinkedIn&#34;</span>
  <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://www.linkedin.com/in/asur-bernardo/&#34;</span>
  <span class=nx>weight</span> <span class=p>=</span> <span class=mi>10</span>
<span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
  <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;twitter&#34;</span>
  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Twitter&#34;</span>
  <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://twitter.com/asurbernardo&#34;</span>
  <span class=nx>weight</span> <span class=p>=</span> <span class=mi>10</span>

<span class=p>[...]</span></code></pre></td></tr></tbody></table></div></div><p>Esta configuración se bindea a la variable <code>.Site</code> en <em>build time</em> y podemos acceder a ella para imprimirla:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;header__menu__list&#34;</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Site.Menus.main</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.URL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absURL</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=nx>$isInternal</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>hasPrefix</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=na>$.Site.BaseURL</span><span class=w> </span><span class=cp>}}</span>
    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=nx>$isInternal</span><span class=w> </span><span class=cp>}}</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;nofollow noopener noreferrer&#34;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span> <span class=na>data-rel</span><span class=o>=</span><span class=s>&#34;prefetch&#34;</span> <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=na>.Pre</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Name</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
      <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span></code></pre></td></tr></tbody></table></div></div><h2 id=links-entre-idiomas>Links entre idiomas 🌏</h2><p>Esto ha sido preferencia personal. Para mejorar el interlinking entre idiomas y que hereden el <em>pagerank</em> de la página padre he decidido añadir en el footer una lista de todas las homepages en los distintos idiomas.</p><p>El snippet:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;footer__languages&#34;</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=na>.Site.IsMultiLingual</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Site.Languages</span><span class=w> </span><span class=cp>}}</span>
      <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>eq</span><span class=w> </span><span class=na>.LanguageName</span><span class=w> </span><span class=na>$.Site.Language.LanguageName</span><span class=w> </span><span class=cp>}}</span>
        <span class=p>&lt;</span><span class=nt>b</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=na>.LanguageName</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
      <span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span>
        <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absURL</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=na>.LanguageName</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
      <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span></code></pre></td></tr></tbody></table></div></div><p>También para mejorar el reconocimiento multi-idioma por los bots he añadido las tags de <em>hreflang</em> a la web, pero <strong>solo en las homepages</strong>.</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=na>.Site.IsMultiLingual</span><span class=w> </span><span class=na>.IsHome</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{-</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Site.Languages</span><span class=w> </span><span class=cp>-}}</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;alternate&#34;</span> <span class=na>hreflang</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=na>.</span><span class=cp>}}</span><span class=s>&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>absURL</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span> <span class=p>/&gt;</span>
  <span class=cp>{{-</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>-}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></td></tr></tbody></table></div></div><h2 id=próximo-destino>Próximo destino 🛣️</h2><p>Voy a hacer una segunda parte para este post, parece que tenía más cosas que preparar de las que esperaba. Ya no queda nada! <em>Stay tuned!</em> 😎</p><h2 class=related-content__title>Lecturas relacionadas 📖</h2><p class=related-content__item><a data-rel=prefetch href=https://asur.dev/metablogs/pwa-en-amp-con-service-worker-e-i18n/ target=_top>Metablog #6 - PWA y soporte multi-idioma</a></p><p class=related-content__item><a data-rel=prefetch href=https://asur.dev/metablogs/ssr-de-amp-en-build-time-con-github-actions/ target=_top>Metablog #7 - SSR de AMP en build time con GH actions</a></p><p class=related-content__item><a data-rel=prefetch href=https://asur.dev/metablogs/mejorando-workflow-docker-makefile-github-actions/ target=_top>Metablog #3 - Workflow con docker, makefile y Github actions</a></p></article></main><footer class=footer><div class=footer__copyright>© asur.dev 2019</div><div class=footer__languages><b>Español</b>
<a data-rel=prefetch href=https://asur.dev/en target=_top>English</a></div></footer></body></html>
