<!doctype html><html i-amphtml-layout i-amphtml-no-boilerplate lang=es transformed="google;v=2" ⚡><head><meta charset=utf-8><style amp-runtime i-amphtml-version=latest></style><meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport><meta content="Mejoro el interlinking con una taxonomías de tags, además de implementar code highlighting y analítica con Cloudflare, Google Analytics y Search Console" name=description><meta content=#ef8b80 name=theme-color><meta content="Metablog #2 - Tags, highlighting de código y analítica" property=og:title><meta content=https://asur.dev/metablogs/taxonomia-de-tags-highlight-codigo-analitica/ property=og:url><meta content="Mejoro el interlinking con una taxonomías de tags, además de implementar code highlighting y analítica con Cloudflare, Google Analytics y Search Console" property=og:description><meta content=https://asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/share-card.jpg property=og:image><meta content=article property=og:type><meta content property=og:site_name><meta content=summary_large_image name=twitter:card><meta content="Metablog #2 - Tags, highlighting de código y analítica" name=twitter:title><meta content=https://asur.dev/metablogs/taxonomia-de-tags-highlight-codigo-analitica/ name=twitter:url><meta content="Mejoro el interlinking con una taxonomías de tags, además de implementar code highlighting y analítica con Cloudflare, Google Analytics y Search Console" name=twitter:description><meta content=https://asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/share-card.jpg name=twitter:image><meta content=@asurbernardo name=twitter:site><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-install-serviceworker src=https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js></script><script async custom-element=amp-social-share src=https://cdn.ampproject.org/v0/amp-social-share-0.1.js></script><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href rel="dns-prefetch preconnect"><link href=https://asur-dev.cdn.ampproject.org rel="dns-prefetch preconnect"><style amp-custom>*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}.chroma{background-color:#fff}.chroma .err{color:#a61717;background-color:#e3d2d2}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#000;font-weight:700}.chroma .kc{color:#000;font-weight:700}.chroma .kd{color:#000;font-weight:700}.chroma .kn{color:#000;font-weight:700}.chroma .kp{color:#000;font-weight:700}.chroma .kr{color:#000;font-weight:700}.chroma .kt{color:#458;font-weight:700}.chroma .na{color:teal}.chroma .nb{color:#0086b3}.chroma .bp{color:#999}.chroma .nc{color:#458;font-weight:700}.chroma .no{color:teal}.chroma .nd{color:#3c5d5d;font-weight:700}.chroma .ni{color:purple}.chroma .ne{color:#900;font-weight:700}.chroma .nf{color:#900;font-weight:700}.chroma .nl{color:#900;font-weight:700}.chroma .nn{color:#555}.chroma .nt{color:navy}.chroma .nv{color:teal}.chroma .vc{color:teal}.chroma .vg{color:teal}.chroma .vi{color:teal}.chroma .s{color:#d14}.chroma .sa{color:#d14}.chroma .sb{color:#d14}.chroma .sc{color:#d14}.chroma .dl{color:#d14}.chroma .sd{color:#d14}.chroma .s2{color:#d14}.chroma .se{color:#d14}.chroma .sh{color:#d14}.chroma .si{color:#d14}.chroma .sx{color:#d14}.chroma .sr{color:#009926}.chroma .s1{color:#d14}.chroma .ss{color:#990073}.chroma .m{color:#099}.chroma .mb{color:#099}.chroma .mf{color:#099}.chroma .mh{color:#099}.chroma .mi{color:#099}.chroma .il{color:#099}.chroma .mo{color:#099}.chroma .o{color:#000;font-weight:700}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#998;font-style:italic}.chroma .ch{color:#998;font-style:italic}.chroma .cm{color:#998;font-style:italic}.chroma .c1{color:#998;font-style:italic}.chroma .cs{color:#999;font-weight:700;font-style:italic}.chroma .cp{color:#999;font-weight:700;font-style:italic}.chroma .cpf{color:#999;font-weight:700;font-style:italic}.chroma .gd{color:#000;background-color:#fdd}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#a00}.chroma .gh{color:#999}.chroma .gi{color:#000;background-color:#dfd}.chroma .go{color:#888}.chroma .gp{color:#555}.chroma .gs{font-weight:700}.chroma .gu{color:#aaa}.chroma .gt{color:#a00}.chroma .gl{text-decoration:underline}.chroma .w{color:#bbb}body{display:grid;grid-template-columns:repeat(12,1fr);grid-gap:1em 1em;font-size:1.2em;font-family:Courier New;line-height:2;color:#333}header{margin-top:1em}header .header__menu{margin:0;padding:0;display:flex;overflow:auto;justify-content:flex-start;border:1px solid #333}header .header__menu a{border-bottom:none}header .header__menu a:hover{color:#ef8b80}header .header__menu__logo{line-height:0}header .header__menu__list{display:flex;flex-grow:1;flex-wrap:nowrap;align-items:center;justify-content:space-around}header .header__menu__list li{padding:1em;display:inline}footer{display:flex;justify-content:space-between;flex-wrap:wrap}header,main,footer{grid-column:4/span 6}h1,h2,h3,h4{font-family:Helvetica}h1{font-size:4rem}h2{font-size:2.5rem}h3{font-size:2rem}h4{font-size:1.5rem}a{color:inherit;text-decoration:none;border-bottom:2px dashed #37474f;transition:background .3s}a:hover{border-color:#ef8b80}li{margin-top:.25em}pre,code{font-family:lucida console,Monaco,monospace;font-size:12pt;background-color:#f1f1f1}blockquote{margin:inherit auto;margin-left:1em;padding:1em;border-left:5px solid #999}blockquote:before{display:none}blockquote:not(:first-of-type){margin-top:.5em}blockquote p{color:#555;font-size:1.25em;font-family:times new roman,serif}.under-title{display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:0}.under-title__left,.under-title__right{align-self:center;margin-top:1em}#tags{margin:0;padding:0}#tags li{display:inline}.social-share amp-social-share{margin:0 .5em;border-radius:50%;background-size:60%}article>pre{overflow:auto;padding:1em}article>p>code{padding:.1em}article>.highlight{overflow:auto}article>.highlight .chroma{background-color:#f1f1f1}article>*{margin-top:1.5em}article h1{margin-top:.25em}table{display:block;overflow-x:auto;border-collapse:collapse}table td,table th{border:1px solid #ddd}table td{padding:.5em 1em}table th{padding:1em 2em;background-color:#ef8b80;color:#fff}table tr:nth-child(even){background-color:#f1f1f1}table tr:hover{background-color:#ddd}@media(max-width:1200px){body{grid-gap:0}main,header,footer{grid-column:1/span 12;margin:.5em .75em 0 .5em}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.66rem}h4{font-size:1.25rem}}</style><title>Metablog #2 - Tags, highlighting de código y analítica</title><link href=https://asur.dev/metablogs/taxonomia-de-tags-highlight-codigo-analitica/ rel=canonical><link href=https://asur.dev/sitemap.xml rel=sitemap type=application/xml><link as=script href=https://cdn.ampproject.org/v0.js rel=preload><link href=https://asur.dev/manifest.json rel=manifest><link href=https://asur.dev/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link crossorigin href=https://cdn.ampproject.org rel="preconnect dns-prefetch"><link crossorigin href=https://www.googletagmanager.com rel="preconnect dns-prefetch"></head><body><amp-install-serviceworker class=i-amphtml-layout-nodisplay data-iframe-src=https://asur.dev/install-sw.html hidden=hidden i-amphtml-layout=nodisplay layout=nodisplay src=https://asur.dev/sw.js></amp-install-serviceworker><amp-analytics class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" data-credentials=include i-amphtml-layout=fixed style=width:1px;height:1px; type=gtag><script type=application/json>{"vars":{"gtag_id":"UA-128498798-1","config":{"UA-128498798-1":{"groups":"default"}}},"triggers":{"trackPageview":{"on":"visible","request":"pageview"}}}</script></amp-analytics><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/asur.dev","name":"Inicio"}},{"@type":"ListItem","position":2,"item":{"@id":"https:\/\/asur.dev\/metablogs\/","name":"Metablogs"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/asur.dev\/metablogs\/taxonomia-de-tags-highlight-codigo-analitica\/","name":"Taxonomia de tags highlight codigo analitica"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","image":"https:\/\/asur.dev\/images\/taxonomia-de-tags-highlight-codigo-analitica\/share-card.jpg","url":"https:\/\/asur.dev\/metablogs\/taxonomia-de-tags-highlight-codigo-analitica\/","headline":"Metablog #2 - Tags, highlighting de código y analítica","alternativeHeadline":"Metablog #2 - Tags, highlighting de código y analítica","dateCreated":"2019-10-26T11:27:32","datePublished":"2019-10-26T11:27:32","dateModified":"2019-10-26T11:27:32","inLanguage":"es","isFamilyFriendly":"true","copyrightYear":"2019","copyrightHolder":"Asur","accountablePerson":{"@type":"Person","name":"Asur","url":"\/"},"author":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev\/"},"creator":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev\/"},"publisher":{"@type":"Organization","name":"Asur Bernardo","url":"https:\/\/asur.dev","logo":{"@type":"ImageObject","url":"\/logo-amp-article.png","width":"600","height":"60"}},"mainEntityOfPage":"https:\/\/asur.dev\/metablogs\/taxonomia-de-tags-highlight-codigo-analitica\/","keywords":"[\"blog\",\"desarrollo\",\"tags\",\"syntax highlighting\",\"google analytics\",\"syntax highlighting\",\"search console\"]","genre":"[\"Evolutivo\"]","articleSection":"Los metablogs | By Asur 🧐"}</script><header><nav class=header__menu><a aria-label="Volver a la página de inicio" class=header__menu__logo href=https://asur.dev/ target=_top><amp-img class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=100 i-amphtml-layout=fixed layout=fixed src=https://asur.dev/logo.png style=width:100px;height:100px; width=100></amp-img></a><ul class=header__menu__list><li><a href=https://github.com/asurbernardo target=_top><span>GitHub</span></a></li><li><a href=https://www.linkedin.com/in/asur-bernardo/ target=_top><span>LinkedIn</span></a></li><li><a href=https://stackoverflow.com/users/4524353/asur target=_top><span>StackOverflow</span></a></li><li><a href=https://twitter.com/asurbernardo target=_top><span>Twitter</span></a></li></ul></nav></header><main><article><h1 id=taxonomía-de-tags-highlighting-de-código-y-analítica>Taxonomía de tags, highlighting de código y analítica</h1><section class=under-title><div class=under-title__left><time datetime=2019-10-26T11:27:32>26 de Octubre 2019</time> por Asur<ul id=tags><li>Tags:</li> <li><a href=https://asur.dev/tags/evolutivo/ target=_top>Evolutivo</a></li></ul></div><div class="under-title__right social-share"><amp-social-share aria-label="Compartir contenido" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=system width=50></amp-social-share><amp-social-share aria-label="Compartir en Facebook" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=facebook width=50></amp-social-share><amp-social-share aria-label="Compartir en Twitter" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=twitter width=50></amp-social-share><amp-social-share aria-label="Compartir en Linkedin" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=linkedin width=50></amp-social-share><amp-social-share aria-label="Compartir en Pinterest" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=pinterest width=50></amp-social-share></div></section><p>Seguimos adelante, esta vez avanzo un poco más con el interlinking creando una taxonomía de tags, además de server-side code highlighting y he montado todo lo necesario para recopilar datos y analizarlos con Cloudflare, Google Analytics y Search Console, además de un pequeño análisis de lo más interesante de cada uno.</p><p><b>Tabla de contenidos:</b></p><nav id=TableOfContents><ul><li><a href=#taxonomía-de-tags-highlighting-de-código-y-analítica>Taxonomía de tags, highlighting de código y analítica</a><ul><li><a href=#highlighting-de-código>Highlighting de código ✨</a></li><li><a href=#taxonomía-de-tags>Taxonomía de tags 🏷️</a></li><li><a href=#analítica>Analítica 📊</a><ul><li><a href=#google-analytics>Google Analytics</a></li><li><a href=#search-console>Search console</a></li><li><a href=#cloudflare>Cloudflare</a></li></ul></li><li><a href=#siguientes-pasos>Siguientes pasos 👣</a></li><li><a href=#wayback-machine>Wayback Machine ⏰</a></li></ul></li></ul></nav><p></p><h2 id=highlighting-de-código>Highlighting de código ✨</h2><p>Desde un principio esta funcionalidad ha estado en el punto de mira, me encanta escribir snippets en mis posts, porque <em>talk is cheap, show me the code</em> es un mantra con el que me identifico y me gusta ir de <em>hardcore programmer</em>.</p><p>Me encanta como está implementado esto en Hugo, se puede considerar <em>server-side highlighting</em>, ya que a la hora de compilar tu contenido a HTML se utiliza <a href=https://github.com/alecthomas/chroma target=_top>Chroma</a>, una librería escrita en Go que analiza y aplica markup a tus snippets y luego a través de CSS puedes darles estilos.</p><p>En mi opinión esto es un acercamiento mucho más óptimo que al highlight en el cliente, como el de <a href=https://highlightjs.org/ target=_top>highlight.js</a> ya que además de no ocupar tiempo en el hilo de javascript analizando texto al vuelo, no habrá ningún parpadeo en el que el código salga sin estilos.</p><p>Para resaltar un trozo de código a la hora de escribir contenido tengo que usar un shortcode nativo de Hugo:</p><pre><code>{{&lt; highlight php &#34;linenos=table&#34; &gt;}}

&lt;?php

// ... code

function foo() {
    $bar = &#39;string&#39;;
}

{{&lt; /highlight &gt;}}
</code></pre><p>Que se verá de la siguiente manera:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-php data-lang=php><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-php data-lang=php><span class=cp>&lt;?php</span>

<span class=c1>// ... code
</span><span class=c1></span>
<span class=k>function</span> <span class=nf>foo</span><span class=p>()</span> <span class=p>{</span>
    <span class=nv>$bar</span> <span class=o>=</span> <span class=s1>&#39;string&#39;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></tbody></table></div></div><p>Uno de mis objetivos era que se pudiese copiar y pegar el código resaltado sin incluir los números de línea, algo que pasa muy a menudo en muchas webs y me saca de quicio. Para hacerlo posible hay que incluir el atributo <code>&#34;linenos=table&#34;</code> al shortcode, de esta forma se utilizarán tablas HTML al maquetar la estructura de código y sus líneas independientemente, en vez de solo insertar un número al principio de estas últimas.</p><p>Como detalle final, la librería de Chroma es compatible con los temas de Pygments, otra librería similar pero escrita en Python, y esto abre un abanico enorme de <a href=https://xyproto.github.io/splash/docs/ target=_top>combinaciones de colores</a>. Yo me he decantado por el tema <em>Github</em>, como no… Para aplicarlo tenemos que habilitar en la configuración de nuestro sitio <code>pygmentsUseClasses = true</code> e incluir el CSS generado por el comando <code>hugo gen chromastyles --style=github &gt; syntax.css</code> a nuestro fichero de estilos.</p><h2 id=taxonomía-de-tags>Taxonomía de tags 🏷️</h2><p>Las taxonomías <strong>son maneras de agrupar elementos por características comunes</strong>. La primera implementación que voy a hacer al respecto es la de tags. Es una estrategia muy común a la hora de crear una estructura de links para SEO, también ayudará, por supuesto, a los usuarios a encontrar contenido que les interese más fácilmente.</p><p>Hugo ya incluye por defecto dos taxonomías: tags y categorías, además de poder crear las tuyas propias. He empezado por tags por mera comodidad, creo que las categorías las dejaré para cuando implemente unas migas de pan y lo haré todo junto.</p><p>La implementación, al estar ya soportado, no tiene mucha miga, para empezar añadimos las tags en la metadata del post de turno:</p><pre><code>tags = [&#39;Evolutivo&#39;, &#39;Data&#39;, &#39;Hugo&#39;]
</code></pre><p>Una vez tenemos los datos, pasan a formar parte del objeto del post y los podemos listar, como se puede ver encima del título de este post:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&#34;tags&#34;</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Tags:<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Param</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=cp>}}</span>
        <span class=cp>{{</span><span class=w> </span><span class=nx>$name</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=cp>}}</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=na>$.Site.GetPage</span><span class=w> </span><span class=o>(</span><span class=k>printf</span><span class=w> </span><span class=s>&#34;/%s/%s&#34;</span><span class=w> </span><span class=nx>$taxonomy</span><span class=w> </span><span class=o>(</span><span class=nx>$name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>urlize</span><span class=o>))</span><span class=w> </span><span class=cp>}}</span>
            <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Permalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$name</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span></code></pre></td></tr></tbody></table></div></div><p>Por último tenemos que crear una plantilla para las páginas de taxonomía. Es obligatorio que se llame <code>taxonomy.html</code> y es lo que se renderizará cuando se navegue al link que tiene cada tag. Ya tenemos accesibles todas las entradas pertenecientes a esa tag, por lo que el código se parece mucho al de la homepage, un título (que será el nombre de la tag) y un bucle para imprimir los links:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=nx>define</span><span class=w> </span><span class=s>&#34;main&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Title</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=na>.Pages</span><span class=w> </span><span class=cp>}}</span>
            <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
                <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=na>.Permalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
                    <span class=cp>{{</span><span class=na>.PublishDate.Format</span><span class=w> </span><span class=s>&#34;02-01-2006&#34;</span><span class=cp>}}</span> | <span class=cp>{{</span><span class=w> </span><span class=na>.Title</span><span class=w> </span><span class=cp>}}</span>
                <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
            <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
        <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></td></tr></tbody></table></div></div><p>Finiquitado, ya tenemos una taxonomía básica montada y la estructura básica para añadir más en el futuro!</p><h2 id=analítica>Analítica 📊</h2><p>Soy un <em>nerd</em> para los números, no tengo ni idea de análisis ni representación de datos pero me encanta mirar gráficas, por lo que la parte de analítica iba a llegar más pronto que tarde. Por el momento he decidido utilizar tres fuentes de datos: Google Analytics, Search console y Cloudflare.</p><h3 id=google-analytics>Google Analytics</h3><p>Google Analytics <strong>es una navaja suiza</strong>, con el conocimiento suficiente que espero ir adquiriendo con el tiempo puedes hacer prácticamente lo que quieras en lo que recolección de datos se refiere.</p><p>Para añadirlo en una página AMP tenemos que usar el componente <code>amp-analytics</code> de la siguiente manera:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>amp-analytics</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;gtag&#34;</span> <span class=na>data-credentials</span><span class=o>=</span><span class=s>&#34;include&#34;</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;application/json&#34;</span><span class=p>&gt;</span>
    <span class=p>{</span>
      <span class=s2>&#34;vars&#34;</span><span class=o>:</span> <span class=p>{</span>
        <span class=s2>&#34;gtag_id&#34;</span><span class=o>:</span> <span class=s2>&#34;UA-128498798-1&#34;</span><span class=p>,</span>
        <span class=s2>&#34;config&#34;</span><span class=o>:</span> <span class=p>{</span>
          <span class=s2>&#34;UA-128498798-1&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;groups&#34;</span><span class=o>:</span> <span class=s2>&#34;default&#34;</span> <span class=p>}</span>
        <span class=p>}</span>
      <span class=p>},</span>
      <span class=s2>&#34;triggers&#34;</span><span class=o>:</span> <span class=p>{</span>
        <span class=s2>&#34;trackPageview&#34;</span><span class=o>:</span> <span class=p>{</span>
          <span class=s2>&#34;on&#34;</span><span class=o>:</span> <span class=s2>&#34;visible&#34;</span><span class=p>,</span>
          <span class=s2>&#34;request&#34;</span><span class=o>:</span> <span class=s2>&#34;pageview&#34;</span>
        <span class=p>}</span>
      <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>amp-analytics</span><span class=p>&gt;</span></code></pre></td></tr></tbody></table></div></div><p>Los datos que más me interesan son:</p><p><strong>Usuarios y sesiones:</strong> De manera general puedo ver la cantidad de usuarios y sesiones de la web, así como el porcentaje de rebote y las páginas visitadas por cada sesión.</p><amp-img alt="Usuarios y sesiones - Google Analytics" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=623 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/google-analytics-audiencia-general.jpg width=1617><i-amphtml-sizer style=display:block;padding-top:38.5281%;></i-amphtml-sizer></amp-img><p><strong>Adquisición:</strong> También me gusta ver como han llegado los usuarios al sitio y la diferencia de calidad de los diferentes tipos.</p><amp-img alt="Adquisición de usuarios - Google Analytics" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=331 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/google-analytics-adquisicion.jpg width=1131><i-amphtml-sizer style=display:block;padding-top:29.2661%;></i-amphtml-sizer></amp-img><p><strong>Tiempo en página de posts:</strong> Una vista algo más atómica de como están funcionando cada uno de los posts, para posteriormente poder analizarlo e iterar.</p><amp-img alt="Comportamiento por post - Google Analytics" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=417 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/google-analytics-comportamiento-posts.jpg width=1620><i-amphtml-sizer style=display:block;padding-top:25.7407%;></i-amphtml-sizer></amp-img><p>Por supuesto hay muchos más datos, como demográfica y flujos de navegación pero no me interesan tanto en la fase actual en la que está el blog, en un futuro quizás los revisite.</p><h3 id=search-console>Search console</h3><p>Search console te muestra <strong>datos de la indexación de tu web en Google</strong>, así como las mejoras manuales que ha detectado en tu web.</p><p>El proceso de validación es a través de DNS, lo único que hay que añadir es un registro TXT con el contenido que se nos indica al registrarnos y listo, ya tenemos acceso.</p><pre><code>Type  | Name              | Content                         | TTL
------|-------------------|---------------------------------|------
TXT   | asurbernardo.com  | google-site-verification=drV... | 5 min
</code></pre><p>Las partes a las que prestaré más atención son:</p><p><strong>Rendimiento:</strong> Las veces que aparecen una página de esta web en Google listada, en que posición y que CTR tiene.</p><amp-img alt="Rendimiento - Search Console" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=363 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-rendimiento.jpg srcset="https://asur-dev.cdn.ampproject.org/ii/w1000/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-rendimiento.jpg 1000w, https://asur-dev.cdn.ampproject.org/ii/w1200/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-rendimiento.jpg 1200w" width=913><i-amphtml-sizer style=display:block;padding-top:39.7590%;></i-amphtml-sizer></amp-img><p><strong>Cobertura:</strong> Información sobre como está indexado este site en Google, las páginas correctas y los posibles errores.</p><amp-img alt="Cobertura - Search Console" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=430 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-cobertura.jpg srcset="https://asur-dev.cdn.ampproject.org/ii/w1000/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-cobertura.jpg 1000w, https://asur-dev.cdn.ampproject.org/ii/w1200/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-cobertura.jpg 1200w" width=909><i-amphtml-sizer style=display:block;padding-top:47.3047%;></i-amphtml-sizer></amp-img><p><strong>Mejoras:</strong> Todas las señales que indican a Google la calidad de la página más allá del contenido, como datos estructurados, AMP, etc.</p><amp-img alt="Mejoras - Search console" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=210 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-mejoras.jpg srcset="https://asur-dev.cdn.ampproject.org/ii/w1000/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-mejoras.jpg 1000w, https://asur-dev.cdn.ampproject.org/ii/w1200/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/search-console-mejoras.jpg 1200w" width=908><i-amphtml-sizer style=display:block;padding-top:23.1278%;></i-amphtml-sizer></amp-img><h3 id=cloudflare>Cloudflare</h3><p>Con Cloudflare no he tenido que hacer nada, ya estaba montado desde el principio como proxy de esta web, pero sigue teniendo una parte de analítica muy interesante, que está más orientada a los datos técnicos y son mucho más crudos que en el resto de plataformas ya que son recaudados a nivel DNS y proxy.</p><p>Las partes más interesantes son:</p><p><strong>Requests:</strong> Esto es más por curiosidad que otra cosa, al final el ancho de banda consumido y los hits cacheados le concierne a Github, no a mí, pero aún así me encanta saberlo.</p><amp-img alt="Ancho de banda - Cloudflare" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=520 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/cloudflare-ancho-de-banda.jpg width=1018><i-amphtml-sizer style=display:block;padding-top:51.0806%;></i-amphtml-sizer></amp-img><p><strong>Datos técnicos:</strong> Ver que porcentaje de uso de <em>http/2</em>, la cantidad de datos ahorrados por la compresión <em>gzip</em> y la descomposición de como se usa el ancho de banda, de nuevo, no es que sea imprescindible pero puede dar información relavante dependiendo del contexto, y qué mejor manera de hacerlo que en forma de quesitos?</p><amp-img alt="Datos técnicos - Cloudflare" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=378 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/taxonomia-de-tags-highlight-codigo-analitica/cloudflare-datos-tecnicos.jpg width=1025><i-amphtml-sizer style=display:block;padding-top:36.8780%;></i-amphtml-sizer></amp-img><h2 id=siguientes-pasos>Siguientes pasos 👣</h2><p>Para el siguiente evolutivo ya tengo bastante claro en que va a consistir, ya he empezado a trabajar (con ayuda) en una mejora del workflow de desarrollo y redacción de contenido, vamos a crear un flujo con Docker, <code>docker-compose</code> y Makefiles, además también me voy a apuntar a la beta abierta de Github Actions y haremos algo de despliegue continuo. <em>Stay tuned!</em> 😎</p><h2 id=wayback-machine>Wayback Machine ⏰</h2><p>Ver la <a href=https://web.archive.org/web/20191026093302/https://asurbernardo.com/evolutivos/taxonomia-de-tags-highlight-codigo-analitica/ target=_top title="Versión original del post">versión original de este post</a>.</p><h2>Lecturas relacionadas 📖</h2><p><a href=https://asur.dev/metablogs/la-primera-iteracion-amp-estilos-y-miscelanea/ target=_top>Metablog #1 - AMP, estilos y otras miscelaneas</a></p><p><a href=https://asur.dev/metablogs/el-primer-post-en-mi-nuevo-blog/ target=_top>Metablog #0 - El primer post en mi nuevo blog!</a></p></article></main><footer><div class=footer__copyright>© asur.dev 2019</div><div class=footer__languages><b>Español</b>
<a href=https://asur.dev/en target=_top>English</a></div></footer></body></html>
