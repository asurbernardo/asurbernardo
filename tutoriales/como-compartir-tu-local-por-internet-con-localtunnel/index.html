<!doctype html><html i-amphtml-layout i-amphtml-no-boilerplate lang=es transformed="google;v=2" ‚ö°><head><meta charset=utf-8><style amp-runtime i-amphtml-version=latest></style><meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport><meta content="Explico HTTP tunneling, c√≥mo exponer tu entorno local al internet, su funcionamiento y a usar Ngrok, localtunnel y docker en nuestro proyecto" name=description><meta content="¬øC√≥mo compartir tu entorno local por internet con Ngrok? üì°" property=og:title><meta content=https://asur.dev/tutoriales/como-compartir-tu-local-por-internet-con-localtunnel/ property=og:url><meta content="Explico HTTP tunneling, c√≥mo exponer tu entorno local al internet, su funcionamiento y a usar Ngrok, localtunnel y docker en nuestro proyecto" property=og:description><meta content=https://asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/share-card.jpg property=og:image><meta content=article property=og:type><meta content property=og:site_name><meta content=summary_large_image name=twitter:card><meta content="¬øC√≥mo compartir tu entorno local por internet con Ngrok? üì°" name=twitter:title><meta content=https://asur.dev/tutoriales/como-compartir-tu-local-por-internet-con-localtunnel/ name=twitter:url><meta content="Explico HTTP tunneling, c√≥mo exponer tu entorno local al internet, su funcionamiento y a usar Ngrok, localtunnel y docker en nuestro proyecto" name=twitter:description><meta content=https://asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/share-card.jpg name=twitter:image><meta content=@asurbernardo name=twitter:site><meta content=#333 name=theme-color><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script><script async custom-element=amp-install-serviceworker src=https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js></script><script async custom-element=amp-social-share src=https://cdn.ampproject.org/v0/amp-social-share-0.1.js></script><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href rel="dns-prefetch preconnect"><link href=https://asur-dev.cdn.ampproject.org rel="dns-prefetch preconnect"><style amp-custom>*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}.chroma{background-color:#fff}.chroma .err{color:#a61717;background-color:#e3d2d2}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#000;font-weight:700}.chroma .kc{color:#000;font-weight:700}.chroma .kd{color:#000;font-weight:700}.chroma .kn{color:#000;font-weight:700}.chroma .kp{color:#000;font-weight:700}.chroma .kr{color:#000;font-weight:700}.chroma .kt{color:#458;font-weight:700}.chroma .na{color:teal}.chroma .nb{color:#0086b3}.chroma .bp{color:#999}.chroma .nc{color:#458;font-weight:700}.chroma .no{color:teal}.chroma .nd{color:#3c5d5d;font-weight:700}.chroma .ni{color:purple}.chroma .ne{color:#900;font-weight:700}.chroma .nf{color:#900;font-weight:700}.chroma .nl{color:#900;font-weight:700}.chroma .nn{color:#555}.chroma .nt{color:navy}.chroma .nv{color:teal}.chroma .vc{color:teal}.chroma .vg{color:teal}.chroma .vi{color:teal}.chroma .s{color:#d14}.chroma .sa{color:#d14}.chroma .sb{color:#d14}.chroma .sc{color:#d14}.chroma .dl{color:#d14}.chroma .sd{color:#d14}.chroma .s2{color:#d14}.chroma .se{color:#d14}.chroma .sh{color:#d14}.chroma .si{color:#d14}.chroma .sx{color:#d14}.chroma .sr{color:#009926}.chroma .s1{color:#d14}.chroma .ss{color:#990073}.chroma .m{color:#099}.chroma .mb{color:#099}.chroma .mf{color:#099}.chroma .mh{color:#099}.chroma .mi{color:#099}.chroma .il{color:#099}.chroma .mo{color:#099}.chroma .o{color:#000;font-weight:700}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#998;font-style:italic}.chroma .ch{color:#998;font-style:italic}.chroma .cm{color:#998;font-style:italic}.chroma .c1{color:#998;font-style:italic}.chroma .cs{color:#999;font-weight:700;font-style:italic}.chroma .cp{color:#999;font-weight:700;font-style:italic}.chroma .cpf{color:#999;font-weight:700;font-style:italic}.chroma .gd{color:#000;background-color:#fdd}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#a00}.chroma .gh{color:#999}.chroma .gi{color:#000;background-color:#dfd}.chroma .go{color:#888}.chroma .gp{color:#555}.chroma .gs{font-weight:700}.chroma .gu{color:#aaa}.chroma .gt{color:#a00}.chroma .gl{text-decoration:underline}.chroma .w{color:#bbb}body{display:grid;grid-template-columns:repeat(12,1fr);grid-gap:1em 1em;font-size:1.2em;font-family:Courier New;line-height:1.6;color:#000}.header,.main,.footer{grid-column:4/span 6}.header{margin-top:1em}.header__menu{margin:0;padding:0;display:flex;overflow:auto;justify-content:flex-start;border:1px solid #333}.header__menu a{font-size:1.2em;white-space:nowrap;border-bottom:none}.header__menu a:hover{color:#d14}.header__menu__logo{line-height:0}.header__menu__logo svg{width:75px;height:75px;min-width:75px;min-height:75px}.header__menu__list{display:flex;flex-grow:1;flex-wrap:nowrap;align-items:center;justify-content:space-around}.header__menu__list li{padding:0 1em;display:inline}.main{min-height:80vh}.main .pagination{margin:3em auto 2em;display:flex;justify-content:space-between}.footer{display:flex;justify-content:space-between;flex-wrap:wrap}h1{font-size:3.5rem}h2{font-size:2.5rem}h3{font-size:2rem}h4{font-size:1.5rem}a{color:inherit;text-decoration:none;transition:background .3s;border-bottom:2px dashed #37474f}a:hover{border-color:#d14}.button{padding:.5em .75em;font-size:1.2em;text-align:center;border:1px solid #000;box-shadow:7px 7px 0 0 #333}.button:hover{color:#d14;border:1px solid #000;transform:translate(4px,4px);box-shadow:3px 3px 0 0 #333}li{margin-top:.25em}pre,code{font-family:lucida console,Monaco,monospace;font-size:12pt;background-color:#f1f1f1}blockquote{margin:inherit auto;margin-left:1em;padding:1em;border-left:5px solid #999}blockquote:before{display:none}blockquote:not(:first-of-type){margin-top:.5em}blockquote p{color:#555;font-size:1.25em;font-family:times new roman,serif}.figure{width:100%}.figure--with-caption{display:flex;border-top:6px solid #333}.figure__image--with-caption{min-width:70%}.figure__caption{background-color:#333;color:#fff;font-weight:700;padding:.5em 1em;height:min-content;word-wrap:break-word}.post-it{width:100%;padding:1.5em}.post-it--tip{background-color:#fffacd}.post-it--info{background-color:azure}.post-it--danger{background-color:#ffcccb}.post-it--success{background-color:#d0f0c0}.post-it__title{font-weight:700;font-size:1.5em}.product{width:100%;display:flex;justify-content:space-between;padding:1.5em;border:1px solid #333}.product__image{margin:auto;width:100%;min-width:300px;max-width:400px}.product__content{margin-left:2em;display:flex;flex-direction:column}.product__title{font-weight:700;font-size:1.5rem}.product__description{margin-top:1em}.product__cta{margin-top:1em}#tags{margin:0;padding:0}#tags li{display:inline}.content{width:100%}.content>*{margin-top:1.5em}.content>h1{margin-top:.5em}.content pre{overflow:auto;padding:.5em}.content code{padding:.1em}.content table{display:block;overflow-x:auto;border-collapse:collapse}.content table td,.content table th{border:1px solid #ddd}.content table td{padding:.5em 1em}.content table th{padding:1em 2em;background-color:#333;color:#fff}.content table tr:nth-child(even){background-color:#f1f1f1}.content table tr:hover{background-color:#ddd}.content .highlight .chroma{background-color:#f1f1f1}.content .under-title{display:flex;flex-wrap:wrap;justify-content:space-between;line-height:1.5;font-size:1rem}.content .under-title__info,.content .under-title__social-share{align-self:center}.content .under-title__social-share{display:flex;align-items:center}.content .under-title__social-share__button{margin:0 .5em;border-radius:50%;background-size:60%}.content .ad{display:flex;margin:1rem auto;align-content:center;width:min-content;height:min-content;min-width:320px;min-height:320px;border:1px solid #333}.content .ad__fallback{display:flex;align-items:center}.content .ad__fallback p{margin:auto}.summary:not(:first-of-type) h2{margin-top:2.5em}.summary>*{margin-top:1.25em}.summary__title{text-align:center}.summary .button{display:block;margin:inherit 1em}@media(max-width:1200px){body{grid-gap:0}.main,.header,.footer{grid-column:1/span 12}.main,.footer{margin:1em .75em 0 .5em}.header{margin:0}.header__menu{border:none;border-bottom:1px solid #333}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.66rem}h4{font-size:1.25rem}.post-it{margin-left:0;margin-right:0}}@media(max-width:600px){.under-title__social-share{width:100%;margin-top:1.5em;justify-content:space-between}.figure{flex-direction:column-reverse}.figure--with-caption{border-top:none}.figure__caption{position:relative;max-width:100%}.product{flex-wrap:wrap}.product__content{margin-left:unset;text-align:center}.product__title{margin-top:1em}}</style><title>¬øC√≥mo compartir tu entorno local por internet con Ngrok? üì°</title><link href=https://asur.dev/en/how-to-share-your-local-on-the-internet-with-ngrok/ hreflang=en rel=alternate><link href=https://asur.dev/tutoriales/como-compartir-tu-local-por-internet-con-localtunnel/ rel=canonical><link href=https://asur.dev/sitemap.xml rel=sitemap type=application/xml><link href=https://asur.dev/manifest.json rel=manifest><link href=https://asur.dev/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180></head><body><amp-install-serviceworker class=i-amphtml-layout-nodisplay data-iframe-src=https://asur.dev/install-sw.html hidden=hidden i-amphtml-layout=nodisplay layout=nodisplay src=https://asur.dev/sw.js></amp-install-serviceworker><amp-analytics class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" data-credentials=include i-amphtml-layout=fixed style=width:1px;height:1px; type=gtag><script type=application/json>{"vars":{"gtag_id":"UA-128498798-1","config":{"UA-128498798-1":{"groups":"default"}}},"triggers":{"trackPageview":{"on":"visible","request":"pageview"}}}</script></amp-analytics><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/asur.dev","name":"Inicio"}},{"@type":"ListItem","position":2,"item":{"@id":"https:\/\/asur.dev\/tutoriales\/","name":"Tutoriales"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/asur.dev\/tutoriales\/como-compartir-tu-local-por-internet-con-localtunnel\/","name":"Como compartir tu local por internet con localtunnel"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","image":"https:\/\/asur.dev\/images\/como-compartir-tu-local-por-internet-con-localtunnel\/share-card.jpg","url":"https:\/\/asur.dev\/tutoriales\/como-compartir-tu-local-por-internet-con-localtunnel\/","headline":"¬øC√≥mo compartir tu entorno local por internet con Ngrok? üì°","alternativeHeadline":"¬øC√≥mo compartir tu entorno local por internet con Ngrok? üì°","dateCreated":"2019-11-14T21:08:32","datePublished":"2019-11-14T21:08:32","dateModified":"2019-11-14T21:08:32","inLanguage":"es","isFamilyFriendly":"true","copyrightYear":"2019","copyrightHolder":"Asur","accountablePerson":{"@type":"Person","name":"Asur","url":""},"author":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev"},"creator":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev"},"publisher":{"@type":"Organization","name":"Asur Bernardo","url":"https:\/\/asur.dev","logo":{"@type":"ImageObject","url":"\/logo-amp-article.png","width":"600","height":"60"}},"mainEntityOfPage":"https:\/\/asur.dev\/tutoriales\/como-compartir-tu-local-por-internet-con-localtunnel\/","keywords":"[\"tutorial\",\"http tunneling\",\"Ngrok\",\"Localtunnel\",\"docker\"]","genre":"[\"Tutorial\"]","articleSection":"Los tutoriales | By Asur üßê"}</script><header class=header><nav class=header__menu><a aria-label="Volver a la p√°gina de inicio" class=header__menu__logo data-rel=prefetch href=https://asur.dev target=_top><svg viewbox="0 0 39.687 39.688"><g transform="translate(0 -257.31)"><rect fill=#333 height=44.507 stroke-width=.26458 width=46.68 x=-4.7247 y=254.1></rect><g aria-label=a/ fill=#fff stroke-width=.47195 transform="matrix(.95987 0 0 .99672 -.00047323 11.993)"><path d="m16.898 272.93v-7.3088c0-3.0104-1.9104-4.9208-5.7023-4.9208-1.4762.0-3.1262.26052-4.9787.95522l.63681 1.8381c1.5775-.54997 2.9525-.78154 3.9656-.78154 2.2723.0 3.6327.82496 3.6327 3.0248v1.2736h-2.2433c-4.6313.0-7.1496 1.7368-7.1496 4.8774.0 2.8367 1.867 4.7037 4.9208 4.7037 1.9683.0 3.6906-.72365 4.7761-2.142.43419 1.3605 1.4762 1.9683 2.7933 2.142l.59339-1.7078c-.8539-.26051-1.2447-.72365-1.2447-1.9538zm-6.2957 1.8091c-1.9828.0-2.938-.98416-2.938-2.8801.0-1.9538 1.2302-3.1985 4.5879-3.1985h2.1999v3.9222c-.91179 1.3605-2.3446 2.1565-3.8498 2.1565z" style=font-feature-settings:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal></path><path d="m23.928 279.24 12.36-25.458-1.9394-.95521-12.389 25.545z" style=font-feature-settings:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal></path></g></g></svg></a><ul class=header__menu__list><li><a href=https://github.com/asurbernardo rel="nofollow noopener noreferrer" target=_blank><span>GitHub</span></a></li><li><a href=https://twitter.com/asurbernardo rel="nofollow noopener noreferrer" target=_blank><span>Twitter</span></a></li><li><a data-rel=prefetch href=https://asur.dev/uses target=_top><span>/Uses</span></a></li><li><a data-rel=prefetch href=https://asur.dev/support target=_top><span>Ap√≥yame</span></a></li></ul></nav></header><main class=main><article class=content><h1 id=c√≥mo-compartir-tu-entorno-local-por-internet>¬øC√≥mo compartir tu entorno local por internet?</h1><section class=under-title><div class=under-title__info><time datetime=2019-11-14T21:08:32>14 de Noviembre 2019</time> por Asur<ul id=tags><li>Tags:</li>¬†<li><a data-rel=prefetch href=https://asur.dev/tags/tutorial/ target=_top>Tutorial</a></li></ul></div><div class=under-title__social-share><amp-social-share aria-label="Compartir contenido" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=system width=50></amp-social-share><amp-social-share aria-label="Compartir en Facebook" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=facebook width=50></amp-social-share><amp-social-share aria-label="Compartir en Twitter" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=twitter width=50></amp-social-share><amp-social-share aria-label="Compartir en Linkedin" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=linkedin width=50></amp-social-share><amp-social-share aria-label="Compartir en Pinterest" class="under-title__social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=pinterest width=50></amp-social-share></div></section><p>¬øAlguna vez te has preguntado como puedo hacer una demo a ese cliente sin un entorno de staging? ¬øO c√≥mo puedo probar esos webhooks que estoy programando sin hacer un despliegue? La respuesta viene de la mano de <strong>http tunneling</strong>, una t√©cnica que te permite compartir tu entorno local a internet.</p><p>Vamos a averiguar como funciona, las diferentes herramientas disponibles y como utilizar la librer√≠as <strong>Ngrok</strong> y <strong>Localtunnel</strong> en nuestros propios proyectos.</p><p><b>Tabla de contenidos:</b></p><nav id=TableOfContents><ul><li><a href=#c√≥mo-compartir-tu-entorno-local-por-internet>¬øC√≥mo compartir tu entorno local por internet?</a><ul><li><a href=#qu√©-es-http-tunneling-y-c√≥mo-funciona>¬øQu√© es http tunneling y c√≥mo funciona? üï≥Ô∏è</a></li><li><a href=#qu√©-usos-tiene-el-http-tunneling>¬øQu√© usos tiene el http tunneling? üì±</a><ul><li><a href=#exponer-tu-entorno-local-al-internet-para-demos>Exponer tu entorno local al internet para demos</a></li><li><a href=#pruebas-de-webhooks-desde-local>Pruebas de webhooks desde local</a></li><li><a href=#pruebas-de-api-en-apps-o-aparatos-iot>Pruebas de API en apps o aparatos IOT</a></li><li><a href=#otras-ideas>Otras ideas‚Ä¶</a></li></ul></li><li><a href=#qu√©-herramientas-hay-de-http-tunneling>¬øQu√© herramientas hay de HTTP tunneling? ‚öíÔ∏è</a><ul><li><a href=#ngrok-secure-introspectable-tunnels-to-localhost>Ngrok - secure introspectable tunnels to localhost</a></li><li><a href=#localtunnel-expose-yourself>Localtunnel - expose yourself</a></li><li><a href=#chisel-a-fast-tcp-tunnel-over-http>Chisel - A fast TCP tunnel over HTTP</a></li></ul></li><li><a href=#c√≥mo-utilizar-ngrok-en-tu-proyecto-web>¬øC√≥mo utilizar Ngrok en tu proyecto web? üë©‚Äçüè≠</a></li><li><a href=#setup-alternativo-con-localtunnel-y-docker>Setup alternativo con Localtunnel y docker üê≥</a></li><li><a href=#presentaci√≥n-en-diapositivas>Presentaci√≥n en diapositivas</a></li></ul></li></ul></nav><p></p><h2 id=qu√©-es-http-tunneling-y-c√≥mo-funciona>¬øQu√© es http tunneling y c√≥mo funciona? üï≥Ô∏è</h2><p>El <strong>http tunneling</strong> es una t√©cnica que te permite hacer links de red directos entre dos m√°quinas que normalmente no se podr√≠an conectar debido a restricciones de Firewall, NAT, ACLs, etc.</p><p>Estos t√∫neles requieren una m√°quina intermediaria (un <em>proxy</em>) que act√∫e de servidor. La m√°quina cliente se podr√° conectar a este servidor a trav√©s de una llamada HTTP (normalmente con el verbo <em>HTTP CONNECT</em>), una vez establecida la √∫nica funci√≥n del servidor es de proxy directo de TCP entre ambos extremos, qui√©n realiza el request y el cliente del t√∫nel.</p><h2 id=qu√©-usos-tiene-el-http-tunneling>¬øQu√© usos tiene el http tunneling? üì±</h2><p>La teor√≠a es maravillosa, queda super vistoso hablar de protocolos, clientes y servidores, pero lo mejor es la pr√°ctica, as√≠ que vamos a ver en que lodazales nos podemos meter para embarrarnos bien.</p><p>Todos estos casos de uso, aunque se aplican a tecnolog√≠as distintas, suelen girar alrededor del concepto de hacer accesible un entorno que est√° detr√°s de una NAT y/o un Firewall sin necesidad de desplegarlo a un servidor p√∫blico.</p><h3 id=exponer-tu-entorno-local-al-internet-para-demos>Exponer tu entorno local al internet para demos</h3><p>Este es el caso de uso por excelencia y es en lo que se especializan varias de las librerias de las que vamos a hablar a continuaci√≥n.</p><p>Consiste en generar una URL por la que se puede acceder al servidor de tunneling, este servidor consume datos del cliente y devuelve una respuesta HTTP, de esta manera podemos acceder al servidor como si estuviesemos viendo nuestro local, pero desde cualquier sitio que tenga acceso a internet.</p><figure class=figure><amp-img alt="Esquema de Ngrok describiendo una demo a un cliente" class="figure__image i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=678 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-cliente.jpg width=1200><i-amphtml-sizer style=display:block;padding-top:56.5000%;></i-amphtml-sizer></amp-img></figure><p><br></p><h3 id=pruebas-de-webhooks-desde-local>Pruebas de webhooks desde local</h3><p>Probar webhooks es tambi√©n un caso bastante conocido, incluso los desarrolladores de aplicaciones como Slack recomiendan este workflow.</p><p>Las aplicaciones que soportan webhooks suelen requerir una URL de la que consumir datos que sea accesible desde internet, al levantar un t√∫nel puedes configurar la URL que te proporciona y hacer cambios en tiempo real (con Ngrok incluso puedes lanzar request custom desde su GUI).</p><figure class=figure><amp-img alt="Esquema de Ngrok describiendo un testeo de webhooks" class="figure__image i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=422 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-webhooks.jpg srcset="https://asur-dev.cdn.ampproject.org/ii/w820/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-webhooks.jpg 820w, https://asur-dev.cdn.ampproject.org/ii/w1200/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-webhooks.jpg 1200w" width=750><i-amphtml-sizer style=display:block;padding-top:56.2667%;></i-amphtml-sizer></amp-img></figure><p><br></p><h3 id=pruebas-de-api-en-apps-o-aparatos-iot>Pruebas de API en apps o aparatos IOT</h3><p>Pr√°cticamente todas las aplicaciones din√°micas y aparatos IOT requieren alg√∫n tipo de API de la que consumir datos, para hacer pruebas en tiempo real mientras se desarrolla puedes configurar el endpoint de tu t√∫nel en tu consumidor y ponerte a testear.</p><figure class=figure><amp-img alt="Esquema de Ngrok describiendo un testeo de API en aparatos IOT" class="figure__image i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=800 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-iot.jpg width=1200><i-amphtml-sizer style=display:block;padding-top:66.6667%;></i-amphtml-sizer></amp-img></figure><p><br></p><h3 id=otras-ideas>Otras ideas‚Ä¶</h3><p>Como veis solo hay que echarle originalidad, seguro que hay muchas m√°s aplicaciones que se me escapan pero estas son algunas extra que se me han ido ocurriendo:</p><ul><li><p>Acceder a tu app a trav√©s de https cuando tu local tan solo soporta http.</p></li><li><p>Pruebas de responsive reales en distintos tel√©fonos m√≥viles f√≠sicos.</p></li><li><p>Probar entornos de cloud en local (un AWS SQS por ejemplo).</p></li><li><p>Crear un cluster con Minikube y utilizarlo como uno de Kubernetes normal.</p></li></ul><h2 id=qu√©-herramientas-hay-de-http-tunneling>¬øQu√© herramientas hay de HTTP tunneling? ‚öíÔ∏è</h2><p>Ahora que ya hemos visto alg√∫n caso de uso y hemos echado a andar la imaginaci√≥n, vamos a ver de que herramientas disponemos para llevar a cabo nuestra idea:</p><h3 id=ngrok-secure-introspectable-tunnels-to-localhost>Ngrok - secure introspectable tunnels to localhost</h3><p>Ngrok es quiz√°s el nombre m√°s reconocible en esta materia, es un SaaS que tiene la facilidad de uso por bandera. Sus caracter√≠sticas son las siguientes:</p><p><strong>Pros</strong></p><ul><li><p>Binario descargable para multitud de plataformas, r√°pido montaje.</p></li><li><p>Capa gratuita de servidores SaaS.</p></li><li><p>Cuenta con una GUI web en la que puedes analizar los request y hacer respuestas custom.</p></li><li><p>Posibilidad de acceder a un dashboard con anal√≠tica si te registras en su web.</p></li><li><p>Al ser un negocio te asegura el mantenimiento y futuras actualizaciones.</p></li></ul><p><strong>Contras</strong></p><ul><li><p>No es Open Source, al menos la nueva versi√≥n 2.x, a√∫n se puede encontrar <a href=https://github.com/inconshreveable/ngrok target=_top>la antigua versi√≥n en Github</a>, aunque no est√° mantenida.</p></li><li><p>No tiene la opci√≥n de montar tu propio servidor.</p></li><li><p>La capa gratuita en sus servidores es algo limitada, es evidente que buscan la conversi√≥n.</p></li></ul><h3 id=localtunnel-expose-yourself>Localtunnel - expose yourself</h3><p>Aunque su eslogan se puede malinterpretar facilmente, Localtunnel es el proyecto open source m√°s reconocible de HTTP tunneling y lleva desde el 2012 siendo desarrollado y mantenido. Es la alternativa m√°s frecuente a Ngrok y no sin raz√≥n:</p><p><strong>Pros</strong></p><ul><li><p>Es Open Source, tanto el cliente como el servidor.</p></li><li><p>Capa gratuita de servidores SaaS.</p></li><li><p>Gran comunidad y muy asentada, con m√°s de 9K estrellas en Github.</p></li></ul><p><strong>Contras</strong></p><ul><li>Puede ser algo m√°s lento que el resto al estar escrito en Nodejs, pero para la mayor√≠a de casos de uso ni se nota.</li></ul><p>Repositorio: <a href=https://github.com/localtunnel/localtunnel target=_top>https://github.com/localtunnel/localtunnel</a></p><h3 id=chisel-a-fast-tcp-tunnel-over-http>Chisel - A fast TCP tunnel over HTTP</h3><p>El nuevo de la clase, se promociona como una herramienta de HTTP tunneling r√°pida y segura. Con m√°s de 3K estrellas en Github parece que ha convencido a los usuarios, lamentablemente a√∫n no lo he podido probar, pero su r√°pido crecimiento es prueba m√°s que suficiente de que merece la pena darle una oportunidad.</p><p><strong>Pros</strong></p><ul><li><p>Es Open Source, puedes ver el c√≥digo en Github, tanto el cliente como el servidor.</p></li><li><p>Es r√°pido, est√° escrito en Go.</p></li><li><p>Facilidad de uso.</p></li><li><p>Dockeriaci√≥n oficial.</p></li></ul><p><strong>Contras</strong></p><ul><li>No tiene servidores <em>as a service</em>, te lo tienes que montar tu todo.</li></ul><p>Repositorio: <a href=https://github.com/jpillora/chisel target=_top>https://github.com/jpillora/chisel</a></p><h2 id=c√≥mo-utilizar-ngrok-en-tu-proyecto-web>¬øC√≥mo utilizar Ngrok en tu proyecto web? üë©‚Äçüè≠</h2><p>Nos ponemos manos a la obra, al final me he decantado por publicar mi webapp al internet utilizando Ngrok porque al proporcionar un binario descargable es muy f√°cil y r√°pido, ni siquiera requiere instalaci√≥n. El proceso a seguir es el siguiente:</p><p>Nos descargamos el zip con el c√≥digo de la web oficial:</p><pre><code>wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip</code></pre><p>Extraemos los ficheros:</p><pre><code>unzip ngrok-stable-linux-amd64.zip</code></pre><p>Ejecutamos el comando especificando el procolo y el puerto de escucha:</p><pre><code>./ngrok http 80</code></pre><p>La consola nos mostrar√° todos los datos de nuestro nuevo t√∫nel, con ambos links para entrar a nuestro t√∫nel, tanto http como https. Pinta algo as√≠:</p><figure class=figure><amp-img alt="Output de consola del cliente de Ngrok" class="figure__image i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=932 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/ngrok-output-consola.jpg width=1970><i-amphtml-sizer style=display:block;padding-top:47.3096%;></i-amphtml-sizer></amp-img></figure><p>Listo, ya podemos compartir el link con quien queramos que acceda a nuestra m√°quina para hacer una demostraci√≥n.</p><p>Ngrok ofrece una GUI para analizar los requests que llegan a tu servidor, e incluso hacer respuestas custom a cada uno. Normalmente es accesible desde tu navegador en <code>localhost:4040</code>. Esto puede ser muy √∫til en el caso de que est√©s probando una API, webhooks o <em>IOT devices</em> y necesitas hacer una request en concreto sin tener que picar c√≥digo.</p><p>En la web oficial tambi√©n hay anal√≠tica y un dashboard, pero para eso hay que registrarse, puedes ver como configurarlo todo en su documentaci√≥n oficial.</p><div class="post-it post-it--tip"><div class=post-it__title>Cuidado üö®</div><div class=post-it__content>La capa gratuita de Ngrok es bastante limitada, para hacer pruebas en una web sencilla sin muchos subrequest funciona perfectamente, si lo necesitas para algo m√°s complejo o en un entorno profesional quiz√°s te merezca la pena pagar por un plan premium.</div></div><h2 id=setup-alternativo-con-localtunnel-y-docker>Setup alternativo con Localtunnel y docker üê≥</h2><p>Est√° muy bien eso de instalar globalmente una herramienta o descargarte un binario, pero yo soy mucho m√°s fan de utilizar contenedores para mi workflow, as√≠ que he estado haciendo pruebas con docker a ver si se puede integrar Localtunnel y ha resultado que si!</p><p>Ya tengo un <a href=https://asur.dev/metablogs/mejorando-workflow-docker-makefile-github-actions/#dockerizando target=_top>entorno dockerizado para este mismo blog</a>, as√≠ que lo he aprovechado para hacer pruebas.</p><p>He encontrado una <a href=https://hub.docker.com/r/efrecon/localtunnel target=_top>imagen de docker</a> que es genial, pesa solo 20Mb y tiene m√°s de 1 mill√≥n de descargas, as√≠ que el 90% del trabajo ya est√° hecho, la comunidad de docker es una pasada!</p><p>Lo podemos hacer todo desde el <code>docker-compose.yml</code>, no hace falta ni siquiera tocar la parte que ya estaba hecha, tan solo a√±adir el nuevo servicio:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml>version<span class=p>:</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span><span class=w></span>services<span class=p>:</span><span class=w>
</span><span class=w>  </span>web<span class=p>:</span><span class=w>
</span><span class=w>    </span>build<span class=p>:</span><span class=w> </span>.<span class=w>
</span><span class=w>    </span>ports<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span><span class=s2>&#34;1313:1313&#34;</span><span class=w>
</span><span class=w>    </span>volumes<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>.<span class=p>:</span>/blog<span class=w>
</span><span class=w>    </span>command<span class=p>:</span><span class=w> </span>hugo<span class=w> </span>server<span class=w> </span>--verbose<span class=w> </span>--watch<span class=w> </span>--buildFuture<span class=w> </span>--buildDrafts<span class=w> </span>-D<span class=w> </span>--bind<span class=w> </span><span class=m>0.0</span><span class=m>.0</span><span class=m>.0</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=c># ü°£ Nuevo contenido ü°£</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>localtunnel<span class=p>:</span><span class=w>
</span><span class=w>    </span>image<span class=p>:</span><span class=w> </span>efrecon/localtunnel<span class=w>
</span><span class=w>    </span>depends_on<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>web<span class=w>
</span><span class=w>    </span>command<span class=p>:</span><span class=w>
</span><span class=w>      </span>--local-host<span class=w> </span>web<span class=w> </span>--port<span class=w> </span><span class=m>1313</span></code></pre></td></tr></tbody></table></div></div><p>Vamos a ver que se hace en cada paso:</p><ul><li><p><strong>L√≠nea 13:</strong> Declaramos el nuevo servicio de Localtunnel.</p></li><li><p><strong>L√≠nea 14:</strong> Especificamos la imagen que vamos a usar en este servicio, en este caso <code>efrecon/localtunnel</code>, que est√° alojada en DockerHub.</p></li><li><p><strong>L√≠nea 15-16:</strong> Linkeamos el servicio de tunneling con el servidor web para que sean conscientes el uno del otro y se puedan comunicar por la red por defecto.</p></li><li><p><strong>L√≠nea 17-18:</strong> Lanzamos el comando de Localtunnel especificando la direcci√≥n y el puerto del servicio web.</p></li></ul><p>Y eso es todo, al lanzarlo se nos inicia un cliente de Localtunnel listo para usar como en el paso anterior, pero sin instalar software en tu equipo, mucho mejor!</p><h2 id=presentaci√≥n-en-diapositivas>Presentaci√≥n en diapositivas</h2><p>He hecho una presentaci√≥n sobre este tema recientemente, dejo por aqu√≠ las diapositivas por si alguien les quiere echar un vistazo o las quiere reutilizar:</p><amp-iframe allowfullscreen class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=420 i-amphtml-layout=responsive layout=responsive sandbox="allow-scripts allow-same-origin" src=https://slides.com/asurbernardo/como-exponer-tu-local-a-internet-con-http-tunneling/embed width=576><i-amphtml-sizer style=display:block;padding-top:72.9167%;></i-amphtml-sizer></amp-iframe><h2 class=related-content__title>Lecturas relacionadas üìñ</h2><p class=related-content__item><a data-rel=prefetch href=https://asur.dev/metablogs/mejorando-workflow-docker-makefile-github-actions/ target=_top>Metablog #3 - Workflow con docker, makefile y Github actions</a></p><amp-iframe class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=180 i-amphtml-layout=responsive layout=responsive resizable sandbox="allow-scripts allow-same-origin allow-modals allow-popups allow-forms" src="https://comments.asur.dev?id=5626ee4629c545493f15cc4956aefaf0&amp;url=https%3a%2f%2fasur.dev%2ftutoriales%2fcomo-compartir-tu-local-por-internet-con-localtunnel%2f" width=600><i-amphtml-sizer style=display:block;padding-top:30.0000%;></i-amphtml-sizer><div aria-label="Load more" overflow role=button style="display:block;font-size:14px;font-weight:500;text-align:center;line-height:1.1;padding:12px 16px;border-radius:4px;background:rgba(29,47,58,.6);color:#fff" tabindex=0>Load more</div></amp-iframe></article></main><footer class=footer><div class=footer__copyright>¬© asur.dev 2020</div><div class=footer__languages><b>Espa√±ol</b>
<a data-rel=prefetch href=https://asur.dev/en target=_top>English</a></div></footer></body></html>
