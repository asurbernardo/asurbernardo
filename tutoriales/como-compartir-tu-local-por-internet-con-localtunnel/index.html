<!doctype html><html i-amphtml-layout i-amphtml-no-boilerplate lang=es transformed="google;v=2" ⚡><head><meta charset=utf-8><style amp-runtime i-amphtml-version=latest></style><meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport><meta content="Explico http tunneling, cómo exponer tu entorno local al internet, su funcionamiento y a usar ngrok, localtunnel y docker en nuestro proyecto" name=description><meta content=#ef8b80 name=theme-color><meta content="¿Cómo compartir tu entorno local por internet con ngrok? 📡" property=og:title><meta content=https://asur.dev/tutoriales/como-compartir-tu-local-por-internet-con-localtunnel/ property=og:url><meta content="Explico http tunneling, cómo exponer tu entorno local al internet, su funcionamiento y a usar ngrok, localtunnel y docker en nuestro proyecto" property=og:description><meta content=https://asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/share-card.jpg property=og:image><meta content=article property=og:type><meta content property=og:site_name><meta content=summary_large_image name=twitter:card><meta content="¿Cómo compartir tu entorno local por internet con ngrok? 📡" name=twitter:title><meta content=https://asur.dev/tutoriales/como-compartir-tu-local-por-internet-con-localtunnel/ name=twitter:url><meta content="Explico http tunneling, cómo exponer tu entorno local al internet, su funcionamiento y a usar ngrok, localtunnel y docker en nuestro proyecto" name=twitter:description><meta content=https://asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/share-card.jpg name=twitter:image><meta content=@asurbernardo name=twitter:site><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script><script async custom-element=amp-install-serviceworker src=https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js></script><script async custom-element=amp-social-share src=https://cdn.ampproject.org/v0/amp-social-share-0.1.js></script><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href rel="dns-prefetch preconnect"><link href=https://asur-dev.cdn.ampproject.org rel="dns-prefetch preconnect"><style amp-custom>*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}.chroma{background-color:#fff}.chroma .err{color:#a61717;background-color:#e3d2d2}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#000;font-weight:700}.chroma .kc{color:#000;font-weight:700}.chroma .kd{color:#000;font-weight:700}.chroma .kn{color:#000;font-weight:700}.chroma .kp{color:#000;font-weight:700}.chroma .kr{color:#000;font-weight:700}.chroma .kt{color:#458;font-weight:700}.chroma .na{color:teal}.chroma .nb{color:#0086b3}.chroma .bp{color:#999}.chroma .nc{color:#458;font-weight:700}.chroma .no{color:teal}.chroma .nd{color:#3c5d5d;font-weight:700}.chroma .ni{color:purple}.chroma .ne{color:#900;font-weight:700}.chroma .nf{color:#900;font-weight:700}.chroma .nl{color:#900;font-weight:700}.chroma .nn{color:#555}.chroma .nt{color:navy}.chroma .nv{color:teal}.chroma .vc{color:teal}.chroma .vg{color:teal}.chroma .vi{color:teal}.chroma .s{color:#d14}.chroma .sa{color:#d14}.chroma .sb{color:#d14}.chroma .sc{color:#d14}.chroma .dl{color:#d14}.chroma .sd{color:#d14}.chroma .s2{color:#d14}.chroma .se{color:#d14}.chroma .sh{color:#d14}.chroma .si{color:#d14}.chroma .sx{color:#d14}.chroma .sr{color:#009926}.chroma .s1{color:#d14}.chroma .ss{color:#990073}.chroma .m{color:#099}.chroma .mb{color:#099}.chroma .mf{color:#099}.chroma .mh{color:#099}.chroma .mi{color:#099}.chroma .il{color:#099}.chroma .mo{color:#099}.chroma .o{color:#000;font-weight:700}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#998;font-style:italic}.chroma .ch{color:#998;font-style:italic}.chroma .cm{color:#998;font-style:italic}.chroma .c1{color:#998;font-style:italic}.chroma .cs{color:#999;font-weight:700;font-style:italic}.chroma .cp{color:#999;font-weight:700;font-style:italic}.chroma .cpf{color:#999;font-weight:700;font-style:italic}.chroma .gd{color:#000;background-color:#fdd}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#a00}.chroma .gh{color:#999}.chroma .gi{color:#000;background-color:#dfd}.chroma .go{color:#888}.chroma .gp{color:#555}.chroma .gs{font-weight:700}.chroma .gu{color:#aaa}.chroma .gt{color:#a00}.chroma .gl{text-decoration:underline}.chroma .w{color:#bbb}body{display:grid;grid-template-columns:repeat(12,1fr);grid-gap:1em 1em;font-size:1.2em;font-family:Courier New;line-height:2;color:#333}header .header__logo{width:100%;margin:1em 0 0}header .header__logo svg{width:100%;height:auto}header .header__logo a{border-bottom:none;box-shadow:none}header .header__logo a:hover{background:initial}footer{display:flex;justify-content:space-between;flex-wrap:wrap}header,main,footer{grid-column:4/span 6}h1,h2,h3,h4{font-family:Helvetica}h1{font-size:5rem}h2{font-size:2.5rem}h3{font-size:2rem}h4{font-size:1.5rem}a{color:inherit;text-decoration:none;border-bottom:2px dashed #37474f;transition:background .3s}a:hover{border-color:#ef8b80}li{margin-top:.25em}pre,code{font-family:lucida console,Monaco,monospace;font-size:12pt;background-color:#f1f1f1}blockquote{margin:inherit auto;margin-left:1em;padding:1em;border-left:5px solid #999}blockquote:before{display:none}blockquote:not(:first-of-type){margin-top:.5em}blockquote p{color:#555;font-size:1.25em;font-family:times new roman,serif}.under-title{display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:0}.under-title__left,.under-title__right{align-self:center;margin-top:1em}#tags{margin:0;padding:0}#tags li{display:inline}.social-share amp-social-share{margin:0 .5em;border-radius:50%;background-size:60%}article>pre{overflow:auto;padding:1em}article>p>code{padding:.1em}article>.highlight{overflow:auto}article>.highlight .chroma{background-color:#f1f1f1}article>*{margin-top:1.5em}article h1{margin-top:.25em}table{display:block;overflow-x:auto;border-collapse:collapse}table td,table th{border:1px solid #ddd}table td{padding:.5em 1em}table th{padding:1em 2em;background-color:#ef8b80;color:#fff}table tr:nth-child(even){background-color:#f1f1f1}table tr:hover{background-color:#ddd}@media(max-width:1200px){body{grid-gap:0}main,header,footer{grid-column:1/span 12;margin:.5em .75em 0 .5em}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.66rem}h4{font-size:1.25rem}}</style><title>¿Cómo compartir tu entorno local por internet con ngrok? 📡</title><link href=https://asur.dev/tutoriales/como-compartir-tu-local-por-internet-con-localtunnel/ rel=canonical><link href=https://asur.dev/sitemap.xml rel=sitemap type=application/xml><link as=script href=https://cdn.ampproject.org/v0.js rel=preload><link href=https://asur.dev/manifest.json rel=manifest><link href=https://asur.dev/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link crossorigin href=https://cdn.ampproject.org rel="preconnect dns-prefetch"><link crossorigin href=https://www.googletagmanager.com rel="preconnect dns-prefetch"></head><body><amp-install-serviceworker class=i-amphtml-layout-nodisplay data-iframe-src=https://asur.dev/install-sw.html hidden=hidden i-amphtml-layout=nodisplay layout=nodisplay src=https://asur.dev/sw.js></amp-install-serviceworker><amp-analytics class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" data-credentials=include i-amphtml-layout=fixed style=width:1px;height:1px; type=gtag><script type=application/json>{"vars":{"gtag_id":"UA-128498798-1","config":{"UA-128498798-1":{"groups":"default"}}},"triggers":{"trackPageview":{"on":"visible","request":"pageview"}}}</script></amp-analytics><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/asur.dev","name":"Inicio"}},{"@type":"ListItem","position":2,"item":{"@id":"https:\/\/asur.dev\/tutoriales\/","name":"Tutoriales"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/asur.dev\/tutoriales\/como-compartir-tu-local-por-internet-con-localtunnel\/","name":"Como compartir tu local por internet con localtunnel"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","image":"https:\/\/asur.dev\/images\/como-compartir-tu-local-por-internet-con-localtunnel\/share-card.jpg","url":"https:\/\/asur.dev\/tutoriales\/como-compartir-tu-local-por-internet-con-localtunnel\/","headline":"¿Cómo compartir tu entorno local por internet con ngrok? 📡","alternativeHeadline":"¿Cómo compartir tu entorno local por internet con ngrok? 📡","dateCreated":"2019-11-14T21:08:32","datePublished":"2019-11-14T21:08:32","dateModified":"2019-11-14T21:08:32","inLanguage":"es","isFamilyFriendly":"true","copyrightYear":"2019","copyrightHolder":"Asur","accountablePerson":{"@type":"Person","name":"Asur","url":"\/"},"author":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev\/"},"creator":{"@type":"Person","name":"Asur","url":"https:\/\/asur.dev\/"},"publisher":{"@type":"Organization","name":"Asur Bernardo","url":"https:\/\/asur.dev","logo":{"@type":"ImageObject","url":"\/logo-amp-article.png","width":"600","height":"60"}},"mainEntityOfPage":"https:\/\/asur.dev\/tutoriales\/como-compartir-tu-local-por-internet-con-localtunnel\/","keywords":"[\"tutorial\",\"http tunneling\",\"ngrok\",\"localtunnel\",\"docker\"]","genre":"[\"Tutorial\"]","articleSection":"Los tutoriales | By Asur 🧐"}</script><header><div class=header__logo><a aria-label="Volver a la página de inicio" href=https://asur.dev/ target=_top><svg height=21.13mm viewbox="0 0 204.36 21.13" width=204.36mm><g transform="translate(-2.2269 -.73219)"><g aria-label=&lt;asurbernardo/&gt; fill=#333 stroke-width=.26458><path d="m11.131 5.7223-8.9038 5.4998v1.9915l8.7996 5.4998 1.0421-1.4242-8.1744-5.0598 8.1744-5.0135z"></path><path d="m25.137 16.814v-5.8471c0-2.4083-1.5284-3.9367-4.5619-3.9367-1.181.0-2.5009.20841-3.983.76418l.50945 1.4705c1.2621-.43998 2.362-.62524 3.1725-.62524 1.8178.0 2.9062.65997 2.9062 2.4199v1.0189h-1.7947c-3.7051.0-5.7198 1.3894-5.7198 3.9019.0 2.2694 1.4936 3.763 3.9367 3.763 1.5747.0 2.9525-.57892 3.8209-1.7136.34735 1.0884 1.181 1.5747 2.2346 1.7136l.47472-1.3663c-.68313-.20841-.99575-.57892-.99575-1.5631zm-5.0366 1.4473c-1.5862.0-2.3504-.78734-2.3504-2.3041.0-1.5631.98417-2.5588 3.6704-2.5588h1.7599v3.1378c-.72944 1.0884-1.8757 1.7252-3.0799 1.7252z"></path><path d="m34.443 18.134c-1.4357.0-2.7094-.52103-3.6588-1.3199l-1.1115 1.2852c1.0421.90312 2.5704 1.6441 4.7703 1.6441 2.6052.0 5.1408-1.0305 5.1408-3.6356.0-2.281-1.5747-3.1146-3.9598-3.763-2.4662-.67155-3.242-1.0536-3.242-2.142.0-.93786.71786-1.5978 2.6399-1.5978 1.5747.0 2.6283.46314 3.543 1.0884l.85681-1.3199c-1.0189-.7526-2.4662-1.3431-4.423-1.3431-2.7557.0-4.6314 1.2736-4.6314 3.323.0 2.1189 1.621 2.883 4.1567 3.5083 2.582.64839 2.9525 1.2389 2.9525 2.3388.0 1.181-1.1578 1.9336-3.0336 1.9336z"></path><path d="m46.134 7.2854h-1.9452v8.8691c0 2.2578 1.1578 3.5893 3.5199 3.5893 1.4242.0 2.9409-.67155 3.9019-1.9104l.1621 1.6441h1.6557v-12.192h-1.9452v8.9733c-.65997 1.0421-1.9683 1.9336-3.2999 1.9336-1.4126.0-2.0494-.67155-2.0494-2.2694z"></path><path d="m66.312 7.0191c-2.2115.0-3.4388 1.1463-4.3767 3.1493l-.35893-2.883h-3.3809V8.779h1.8989v9.2049h-1.8989v1.4936h6.3218v-1.4936h-2.4778v-5.164c.81049-2.6862 2.1304-4.0061 4.0177-4.0061h.10421v2.5936h1.5978l.27788-4.1219c-.55577-.1621-1.0421-.2663-1.7252-.2663z"></path><path d="m73.915 8.8717v-6.7387l-1.9452.24315v17.101h1.702l.13894-1.2621c.82207 1.0421 1.9104 1.5284 3.323 1.5284 3.1493.0 4.8282-2.6746 4.8282-6.3682.0-3.8209-1.3084-6.345-4.5735-6.345-1.401.0-2.582.67155-3.4735 1.841zm2.7557 9.2975c-1.1115.0-2.1189-.60208-2.7557-1.5747v-6.044c.65997-.98417 1.6905-1.9568 3.0567-1.9568 1.8757.0 2.8715 1.5862 2.8715 4.7703.0 3.2535-1.1347 4.8051-3.1725 4.8051z"></path><path d="m87.389 14.07h8.1976c.02316-.2663.04631-.64839.04631-1.0652.0-3.7051-1.8757-5.9745-4.9556-5.9745-3.242.0-5.3261 2.6746-5.3261 6.3682.0 3.7862 2.0147 6.345 5.5808 6.345 1.5168.0 3.0567-.54419 4.1914-1.4357l-.9147-1.2852c-1.0768.72944-2.0147 1.1-3.2535 1.1-1.8873.0-3.462-1.2273-3.5662-4.0525zm3.3114-5.4419c1.8294.0 3.0104 1.3315 3.0567 3.9367h-6.3566c.1621-2.6862 1.482-3.9367 3.2999-3.9367z"></path><path d="m107.98 7.0191c-2.2115.0-3.4388 1.1463-4.3767 3.1493l-.35893-2.883h-3.3809V8.779h1.8989v9.2049h-1.8989v1.4936h6.3218v-1.4936h-2.4778v-5.164c.81049-2.6862 2.1304-4.0061 4.0177-4.0061h.10421v2.5936h1.5978l.27788-4.1219c-.55576-.1621-1.0421-.2663-1.7252-.2663z"></path><path d="m113.64 19.478h1.9452v-8.8807c.63681-.94943 1.8526-2.0378 3.2883-2.0378 1.841.0 2.0841 1.0073 2.0841 3.4967v7.4218h1.9452v-8.8575c0-2.2462-1.0305-3.5893-3.4272-3.5893-1.4126.0-3.0336.69471-4.0293 1.9452l-.15052-1.6905h-1.6557z"></path><path d="m136.26 16.814v-5.8471c0-2.4083-1.5284-3.9367-4.5619-3.9367-1.181.0-2.501.20841-3.983.76418l.50945 1.4705c1.262-.43998 2.362-.62524 3.1725-.62524 1.8178.0 2.9062.65997 2.9062 2.4199v1.0189h-1.7947c-3.7051.0-5.7198 1.3894-5.7198 3.9019.0 2.2694 1.4936 3.763 3.9367 3.763 1.5747.0 2.9525-.57892 3.8209-1.7136.34735 1.0884 1.181 1.5747 2.2346 1.7136l.47472-1.3663c-.68313-.20841-.99575-.57892-.99575-1.5631zm-5.0366 1.4473c-1.5862.0-2.3504-.78734-2.3504-2.3041.0-1.5631.98417-2.5588 3.6704-2.5588h1.7599v3.1378c-.72944 1.0884-1.8757 1.7252-3.0799 1.7252z"></path><path d="m149.66 7.0191c-2.2115.0-3.4388 1.1463-4.3767 3.1493l-.35893-2.883h-3.3809V8.779h1.8989v9.2049h-1.8989v1.4936h6.3218v-1.4936h-2.4778v-5.164c.81049-2.6862 2.1304-4.0061 4.0177-4.0061h.10421v2.5936h1.5978l.27788-4.1219c-.55577-.1621-1.0421-.2663-1.7252-.2663z"></path><path d="m162.61 2.133v6.3334c-.8105-.94943-1.8641-1.4357-3.2651-1.4357-3.0104.0-4.7819 2.6978-4.7819 6.3682.0 3.7746 1.4589 6.345 4.643 6.345 1.3431.0 2.5473-.57892 3.462-1.8757l.18525 1.6094h1.702v-17.101zm-2.7557 6.4608c1.1231.0 2.0957.57892 2.7557 1.5631v6.0903c-.65998.99575-1.621 1.922-2.9988 1.922-1.9104.0-2.9294-1.6094-2.9294-4.7703.0-3.2188 1.1347-4.8051 3.1725-4.8051z"></path><path d="m173.85 7.0307c-3.4388.0-5.2682 2.6052-5.2682 6.3682.0 3.8325 1.8062 6.345 5.245 6.345 3.4156.0 5.245-2.6399 5.245-6.3682.0-3.8672-1.7831-6.345-5.2219-6.345zm0 1.5862c2.0726.0 3.1378 1.5168 3.1378 4.7587s-1.0652 4.7703-3.1609 4.7703c-2.0957.0-3.1609-1.5284-3.1609-4.7472.0-3.2651 1.0884-4.7819 3.1841-4.7819z"></path><path d="m194.61 3.8466 1.1463-2.3504-1.5515-.76418-9.9112 20.436 1.5747.69471 7.9776-16.441 11.023 6.8081-8.1744 5.0482 1.0536 1.4357 8.788-5.4998v-1.9915z"></path></g></g></svg></a></div></header><main><article><h1 id=cómo-compartir-tu-entorno-local-por-internet>¿Cómo compartir tu entorno local por internet?</h1><section class=under-title><div class=under-title__left>By Asur |
<time datetime=2019-11-14T21:08:32>14-11-2019</time><ul id=tags><li>Tags:</li> <li><a href=https://asur.dev/tags/tutorial/ target=_top>Tutorial</a></li></ul></div><div class="under-title__right social-share"><amp-social-share aria-label="Compartir contenido" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=system width=50></amp-social-share><amp-social-share aria-label="Compartir en Facebook" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=facebook width=50></amp-social-share><amp-social-share aria-label="Compartir en Twitter" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=twitter width=50></amp-social-share><amp-social-share aria-label="Compartir en Linkedin" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=linkedin width=50></amp-social-share><amp-social-share aria-label="Compartir en Pinterest" class="social-share__button i-amphtml-layout-fixed i-amphtml-layout-size-defined" height=50 i-amphtml-layout=fixed style=width:50px;height:50px; type=pinterest width=50></amp-social-share></div></section><p>¿Alguna vez te has preguntado como puedo hacer una demo a ese cliente sin un entorno de staging? ¿O cómo puedo probar esos webhooks que estoy programando sin hacer un despliegue? La respuesta viene de la mano de <strong>http tunneling</strong>, una técnica que te permite compartir tu entorno local a internet.</p><p>Vamos a averiguar como funciona, las diferentes herramientas disponibles y como utilizar la librerías <strong>ngrok</strong> y <strong>localtunnel</strong> en nuestros propios proyectos.</p><p><b>Tabla de contenidos:</b></p><nav id=TableOfContents><ul><li><a href=#cómo-compartir-tu-entorno-local-por-internet>¿Cómo compartir tu entorno local por internet?</a><ul><li><a href=#qué-es-http-tunneling-y-cómo-funciona>¿Qué es http tunneling y cómo funciona? 🕳️</a></li><li><a href=#qué-usos-tiene-el-http-tunneling>¿Qué usos tiene el http tunneling? 📱</a><ul><li><a href=#exponer-tu-entorno-local-al-internet-para-demos>Exponer tu entorno local al internet para demos</a></li><li><a href=#pruebas-de-webhooks-desde-local>Pruebas de webhooks desde local</a></li><li><a href=#pruebas-de-api-en-apps-o-aparatos-iot>Pruebas de API en apps o aparatos IOT</a></li><li><a href=#otras-ideas>Otras ideas…</a></li></ul></li><li><a href=#qué-herramientas-hay-de-http-tunneling>¿Qué herramientas hay de http tunneling? ⚒️</a><ul><li><a href=#ngrok-secure-introspectable-tunnels-to-localhost>Ngrok - secure introspectable tunnels to localhost</a></li><li><a href=#localtunnel-expose-yourself>Localtunnel - expose yourself</a></li><li><a href=#chisel-a-fast-tcp-tunnel-over-http>Chisel - A fast TCP tunnel over HTTP</a></li></ul></li><li><a href=#cómo-utilizar-ngrok-en-tu-proyecto-web>¿Cómo utilizar ngrok en tu proyecto web? 👩‍🏭</a></li><li><a href=#setup-alternativo-con-localtunnel-y-docker>Setup alternativo con localtunnel y docker 🐳</a></li><li><a href=#presentación-en-diapositivas>Presentación en diapositivas</a></li></ul></li></ul></nav><p></p><h2 id=qué-es-http-tunneling-y-cómo-funciona>¿Qué es http tunneling y cómo funciona? 🕳️</h2><p>El <strong>http tunneling</strong> es una técnica que te permite hacer links de red directos entre dos máquinas que normalmente no se podrían conectar debido a restricciones de Firewall, NAT, ACLs, etc.</p><p>Estos túneles requieren una máquina intermediaria (un <em>proxy</em>) que actúe de servidor. La máquina cliente se podrá conectar a este servidor a través de una llamada HTTP (normalmente con el verbo <em>HTTP CONNECT</em>), una vez establecida la única función del servidor es de proxy directo de TCP entre ambos extremos, quién realiza el request y el cliente del túnel.</p><h2 id=qué-usos-tiene-el-http-tunneling>¿Qué usos tiene el http tunneling? 📱</h2><p>La teoría es maravillosa, queda super vistoso hablar de protocolos, clientes y servidores, pero lo mejor es la práctica, así que vamos a ver en que lodazales nos podemos meter para embarrarnos bien.</p><p>Todos estos casos de uso, aunque se aplican a tecnologías distintas, suelen girar alrededor del concepto de hacer accesible un entorno que está detrás de una NAT y/o un Firewall sin necesidad de desplegarlo a un servidor público.</p><h3 id=exponer-tu-entorno-local-al-internet-para-demos>Exponer tu entorno local al internet para demos</h3><p>Este es el caso de uso por excelencia y es en lo que se especializan varias de las librerias de las que vamos a hablar a continuación.</p><p>Consiste en generar una url por la que se puede acceder al servidor de tunneling, este servidor consume datos del cliente y devuelve una respuesta HTTP, de esta manera podemos acceder al servidor como si estuviesemos viendo nuestro local, pero desde cualquier sitio que tenga acceso a internet.</p><amp-img alt="Esquema de ngrok describiendo una demo a un cliente" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=678 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-cliente.jpg width=1200><i-amphtml-sizer style=display:block;padding-top:56.5000%;></i-amphtml-sizer></amp-img><p><br></p><h3 id=pruebas-de-webhooks-desde-local>Pruebas de webhooks desde local</h3><p>Probar webhooks es también un caso bastante conocido, incluso los desarrolladores de aplicaciones como Slack recomiendan este workflow.</p><p>Las aplicaciones que soportan webhooks suelen requerir una url de la que consumir datos que sea accesible desde internet, al levantar un túnel puedes configurar la url que te proporciona y hacer cambios en tiempo real (con ngrok incluso puedes lanzar request custom desde su GUI).</p><amp-img alt="Esquema de ngrok describiendo un testeo de webhooks" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=422 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-webhooks.jpg srcset="https://asur-dev.cdn.ampproject.org/ii/w820/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-webhooks.jpg 820w, https://asur-dev.cdn.ampproject.org/ii/w1200/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-webhooks.jpg 1200w" width=750><i-amphtml-sizer style=display:block;padding-top:56.2667%;></i-amphtml-sizer></amp-img><p><br></p><h3 id=pruebas-de-api-en-apps-o-aparatos-iot>Pruebas de API en apps o aparatos IOT</h3><p>Prácticamente todas las aplicaciones dinámicas y aparatos IOT requieren algún tipo de API de la que consumir datos, para hacer pruebas en tiempo real mientras se desarrolla puedes configurar el endpoint de tu túnel en tu consumidor y ponerte a testear.</p><amp-img alt="Esquema de ngrok describiendo un testeo de API en aparatos IOT" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=800 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/demo-ngrok-iot.jpg width=1200><i-amphtml-sizer style=display:block;padding-top:66.6667%;></i-amphtml-sizer></amp-img><p><br></p><h3 id=otras-ideas>Otras ideas…</h3><p>Como veis solo hay que echarle originalidad, seguro que hay muchas más aplicaciones que se me escapan pero estas son algunas extra que se me han ido ocurriendo:</p><ul><li><p>Acceder a tu app a través de https cuando tu local tan solo soporta http.</p></li><li><p>Pruebas de responsive reales en distintos teléfonos móviles físicos.</p></li><li><p>Probar entornos de cloud en local (un AWS SQS por ejemplo).</p></li><li><p>Crear un cluster con Minikube y utilizarlo como uno de Kubernetes normal.</p></li></ul><h2 id=qué-herramientas-hay-de-http-tunneling>¿Qué herramientas hay de http tunneling? ⚒️</h2><p>Ahora que ya hemos visto algún caso de uso y hemos echado a andar la imaginación, vamos a ver de que herramientas disponemos para llevar a cabo nuestra idea:</p><h3 id=ngrok-secure-introspectable-tunnels-to-localhost>Ngrok - secure introspectable tunnels to localhost</h3><p>Ngrok es quizás el nombre más reconocible en esta materia, es un SaaS que tiene la facilidad de uso por bandera. Sus características son las siguientes:</p><p><strong>Pros</strong></p><ul><li><p>Binario descargable para multitud de plataformas, rápido montaje.</p></li><li><p>Capa gratuita de servidores SaaS.</p></li><li><p>Cuenta con una GUI web en la que puedes analizar los request y hacer respuestas custom.</p></li><li><p>Posibilidad de acceder a un dashboard con analítica si te registras en su web.</p></li><li><p>Al ser un negocio te asegura el mantenimiento y futuras actualizaciones.</p></li></ul><p><strong>Contras</strong></p><ul><li><p>No es Open Source, al menos la nueva versión 2.x, aún se puede encontrar <a href=https://github.com/inconshreveable/ngrok target=_top>la antigua versión en Github</a>, aunque no está mantenida.</p></li><li><p>No tiene la opción de montar tu propio servidor.</p></li><li><p>La capa gratuita en sus servidores es algo limitada, es evidente que buscan la conversión.</p></li></ul><h3 id=localtunnel-expose-yourself>Localtunnel - expose yourself</h3><p>Aunque su eslogan se puede malinterpretar facilmente, localtunnel es el proyecto open source más reconocible de http tunneling y lleva desde el 2012 siendo desarrollado y mantenido. Es la alternativa más frecuente a ngrok y no sin razón:</p><p><strong>Pros</strong></p><ul><li><p>Es Open Source, tanto el cliente como el servidor.</p></li><li><p>Capa gratuita de servidores SaaS.</p></li><li><p>Gran comunidad y muy asentada, con más de 9K estrellas en Github.</p></li></ul><p><strong>Contras</strong></p><ul><li>Puede ser algo más lento que el resto al estar escrito en Nodejs, pero para la mayoría de casos de uso ni se nota.</li></ul><p>Repositorio: <a href=https://github.com/localtunnel/localtunnel target=_top>https://github.com/localtunnel/localtunnel</a></p><h3 id=chisel-a-fast-tcp-tunnel-over-http>Chisel - A fast TCP tunnel over HTTP</h3><p>El nuevo de la clase, se promociona como una herramienta de http tunneling rápida y segura. Con más de 3K estrellas en Github parece que ha convencido a los usuarios, lamentablemente aún no lo he podido probar, pero su rápido crecimiento es prueba más que suficiente de que merece la pena darle una oportunidad.</p><p><strong>Pros</strong></p><ul><li><p>Es Open Source, puedes ver el código en Github, tanto el cliente como el servidor.</p></li><li><p>Es rápido, está escrito en Go.</p></li><li><p>Facilidad de uso.</p></li><li><p>Dockeriación oficial.</p></li></ul><p><strong>Contras</strong></p><ul><li>No tiene servidores <em>as a service</em>, te lo tienes que montar tu todo.</li></ul><p>Repositorio: <a href=https://github.com/jpillora/chisel target=_top>https://github.com/jpillora/chisel</a></p><h2 id=cómo-utilizar-ngrok-en-tu-proyecto-web>¿Cómo utilizar ngrok en tu proyecto web? 👩‍🏭</h2><p>Nos ponemos manos a la obra, al final me he decantado por publicar mi webapp al internet utilizando ngrok porque al proporcionar un binario descargable es muy fácil y rápido, ni siquiera requiere instalación. El proceso a seguir es el siguiente:</p><p>Nos descargamos el zip con el código de la web oficial:</p><pre><code>wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
</code></pre><p>Extraemos los ficheros:</p><pre><code>unzip ngrok-stable-linux-amd64.zip
</code></pre><p>Ejecutamos el comando especificando el procolo y el puerto de escucha:</p><pre><code>./ngrok http 80
</code></pre><p>La consola nos mostrará todos los datos de nuestro nuevo túnel, con ambos links para entrar a nuestro túnel, tanto http como https. Pinta algo así:</p><amp-img alt="Output de consola del cliente de ngrok" class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" height=932 i-amphtml-layout=responsive layout=responsive src=https://asur-dev.cdn.ampproject.org/i/s/asur.dev/images/como-compartir-tu-local-por-internet-con-localtunnel/ngrok-output-consola.jpg width=1970><i-amphtml-sizer style=display:block;padding-top:47.3096%;></i-amphtml-sizer></amp-img><p>Listo, ya podemos compartir el link con quien queramos que acceda a nuestra máquina para hacer una demostración.</p><p>Ngrok ofrece una GUI para analizar los requests que llegan a tu servidor, e incluso hacer respuestas custom a cada uno. Normalmente es accesible desde tu navegador en <code>localhost:4040</code>. Esto puede ser muy útil en el caso de que estés probando una API, webhooks o <em>IOT devices</em> y necesitas hacer una request en concreto sin tener que picar código.</p><p>En la web oficial también hay analítica y un dashboard, pero para eso hay que registrarse, puedes ver como configurarlo todo en su documentación oficial.</p><p><strong>OJO</strong>: La capa gratuita de ngrok es bastante limitada, para hacer pruebas en una web sencilla sin muchos subrequest funciona perfectamente, si lo necesitas para algo más complejo o en un entorno profesional quizás te merezca la pena pagar por un plan premium.</p><h2 id=setup-alternativo-con-localtunnel-y-docker>Setup alternativo con localtunnel y docker 🐳</h2><p>Está muy bien eso de instalar globalmente una herramienta o descargarte un binario, pero yo soy mucho más fan de utilizar contenedores para mi workflow, así que he estado haciendo pruebas con docker a ver si se puede integrar localtunnel y ha resultado que si!</p><p>Ya tengo un <a href=https://asur.dev/metablogs/mejorando-workflow-docker-makefile-github-actions/#dockerizando target=_top>entorno dockerizado para este mismo blog</a>, así que lo he aprovechado para hacer pruebas.</p><p>He encontrado una <a href=https://hub.docker.com/r/efrecon/localtunnel target=_top>imagen de docker</a> que es genial, pesa solo 20Mb y tiene más de 1 millón de descargas, así que el 90% del trabajo ya está hecho, la comunidad de docker es una pasada!</p><p>Lo podemos hacer todo desde el <code>docker-compose.yml</code>, no hace falta ni siquiera tocar la parte que ya estaba hecha, tan solo añadir el nuevo servicio:</p><div class=highlight><div class=chroma><table class=lntable><tbody><tr><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml>version<span class=p>:</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span><span class=w></span>services<span class=p>:</span><span class=w>
</span><span class=w>  </span>web<span class=p>:</span><span class=w>
</span><span class=w>    </span>build<span class=p>:</span><span class=w> </span>.<span class=w>
</span><span class=w>    </span>ports<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span><span class=s2>&#34;1313:1313&#34;</span><span class=w>
</span><span class=w>    </span>volumes<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>.<span class=p>:</span>/blog<span class=w>
</span><span class=w>    </span>command<span class=p>:</span><span class=w> </span>hugo<span class=w> </span>server<span class=w> </span>--verbose<span class=w> </span>--watch<span class=w> </span>--buildFuture<span class=w> </span>--buildDrafts<span class=w> </span>-D<span class=w> </span>--bind<span class=w> </span><span class=m>0.0.0.0</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=c># 🡣 Nuevo contenido 🡣</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>localtunnel<span class=p>:</span><span class=w>
</span><span class=w>    </span>image<span class=p>:</span><span class=w> </span>efrecon/localtunnel<span class=w>
</span><span class=w>    </span>depends_on<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>web<span class=w>
</span><span class=w>    </span>command<span class=p>:</span><span class=w>
</span><span class=w>      </span>--local-host<span class=w> </span>web<span class=w> </span>--port<span class=w> </span><span class=m>1313</span></code></pre></td></tr></tbody></table></div></div><p>Vamos a ver que se hace en cada paso:</p><ul><li><p><strong>Línea 13:</strong> Declaramos el nuevo servicio de localtunnel.</p></li><li><p><strong>Línea 14:</strong> Especificamos la imagen que vamos a usar en este servicio, en este caso <code>efrecon/localtunnel</code>, que está alojada en DockerHub.</p></li><li><p><strong>Línea 15-16:</strong> Linkeamos el servicio de tunneling con el servidor web para que sean conscientes el uno del otro y se puedan comunicar por la red por defecto.</p></li><li><p><strong>Línea 17-18:</strong> Lanzamos el comando de localtunnel especificando la dirección y el puerto del servicio web.</p></li></ul><p>Y eso es todo, al lanzarlo se nos inicia un cliente de localtunnel listo para usar como en el paso anterior, pero sin instalar software en tu equipo, mucho mejor!</p><h2 id=presentación-en-diapositivas>Presentación en diapositivas</h2><p>He hecho una presentación sobre este tema recientemente, dejo por aquí las diapositivas por si alguien les quiere echar un vistazo o las quiere reutilizar:</p><p><amp-iframe allowfullscreen class="i-amphtml-layout-responsive i-amphtml-layout-size-defined" frameborder=0 height=420 i-amphtml-layout=responsive layout=responsive sandbox="allow-scripts allow-same-origin" scrolling=no src=https://slides.com/asurbernardo/como-exponer-tu-local-a-internet-con-http-tunneling/embed width=576><i-amphtml-sizer style=display:block;padding-top:72.9167%;></i-amphtml-sizer></amp-iframe></p><h2>Lecturas relacionadas 📖</h2><p><a href=https://asur.dev/metablogs/mejorando-workflow-docker-makefile-github-actions/ target=_top>Metablog #3 - Workflow con docker, makefile y Github actions</a></p></article></main><footer><div class=footer__copyright>© asur.dev 2019</div><div class=footer__languages><b>Español</b>
<a href=https://asur.deven target=_top>English</a></div></footer></body></html>
